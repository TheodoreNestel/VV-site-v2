{"mappings":"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","sources":["node_modules/node_modules/babel-plugin-transform-async-to-promises/helpers.js","node_modules/@barba/core/src/modules/Logger.ts","node_modules/@barba/core/src/defs/hooks.ts","node_modules/node_modules/path-to-regexp/index.js","node_modules/@barba/core/src/schemas/attribute.ts","node_modules/@barba/core/src/utils/dom.ts","node_modules/@barba/core/src/utils/history.ts","node_modules/@barba/core/src/utils/helpers.ts","node_modules/@barba/core/src/utils/url.ts","node_modules/@barba/core/src/utils/request.ts","node_modules/node_modules/is-promise/index.js","node_modules/@barba/core/src/utils/run-async.ts","node_modules/@barba/core/src/hooks.ts","node_modules/@barba/core/src/modules/Ignore.ts","node_modules/@barba/core/src/modules/Cache.ts","node_modules/@barba/core/src/modules/Prevent.ts","node_modules/@barba/core/src/modules/Error.ts","node_modules/@barba/core/src/modules/Store.ts","node_modules/@barba/core/src/modules/Transitions.ts","node_modules/@barba/core/src/modules/Views.ts","node_modules/@barba/core/src/polyfills/index.ts","node_modules/@barba/core/src/schemas/page.ts","node_modules/@barba/core/src/core.ts","node_modules/animejs/lib/anime.es.js","src/animations.js","src/app.js"],"sourcesContent":["// A type of promise-like that resolves synchronously and supports only one observer\nexport const _Pact = /*#__PURE__*/(function() {\n\tfunction _Pact() {}\n\t_Pact.prototype.then = function(onFulfilled, onRejected) {\n\t\tconst result = new _Pact();\n\t\tconst state = this.s;\n\t\tif (state) {\n\t\t\tconst callback = state & 1 ? onFulfilled : onRejected;\n\t\t\tif (callback) {\n\t\t\t\ttry {\n\t\t\t\t\t_settle(result, 1, callback(this.v));\n\t\t\t\t} catch (e) {\n\t\t\t\t\t_settle(result, 2, e);\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t} else {\n\t\t\t\treturn this;\n\t\t\t}\n\t\t}\n\t\tthis.o = function(_this) {\n\t\t\ttry {\n\t\t\t\tconst value = _this.v;\n\t\t\t\tif (_this.s & 1) {\n\t\t\t\t\t_settle(result, 1, onFulfilled ? onFulfilled(value) : value);\n\t\t\t\t} else if (onRejected) {\n\t\t\t\t\t_settle(result, 1, onRejected(value));\n\t\t\t\t} else {\n\t\t\t\t\t_settle(result, 2, value);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t_settle(result, 2, e);\n\t\t\t}\n\t\t};\n\t\treturn result;\n\t}\n\treturn _Pact;\n})();\n\n// Settles a pact synchronously\nexport function _settle(pact, state, value) {\n\tif (!pact.s) {\n\t\tif (value instanceof _Pact) {\n\t\t\tif (value.s) {\n\t\t\t\tif (state & 1) {\n\t\t\t\t\tstate = value.s;\n\t\t\t\t}\n\t\t\t\tvalue = value.v;\n\t\t\t} else {\n\t\t\t\tvalue.o = _settle.bind(null, pact, state);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tif (value && value.then) {\n\t\t\tvalue.then(_settle.bind(null, pact, state), _settle.bind(null, pact, 2));\n\t\t\treturn;\n\t\t}\n\t\tpact.s = state;\n\t\tpact.v = value;\n\t\tconst observer = pact.o;\n\t\tif (observer) {\n\t\t\tobserver(pact);\n\t\t}\n\t}\n}\n\nexport function _isSettledPact(thenable) {\n\treturn thenable instanceof _Pact && thenable.s & 1;\n}\n\n// Converts argument to a function that always returns a Promise\nexport function _async(f) {\n\treturn function() {\n\t\tfor (var args = [], i = 0; i < arguments.length; i++) {\n\t\t\targs[i] = arguments[i];\n\t\t}\n\t\ttry {\n\t\t\treturn Promise.resolve(f.apply(this, args));\n\t\t} catch(e) {\n\t\t\treturn Promise.reject(e);\n\t\t}\n\t}\n}\n\n// Awaits on a value that may or may not be a Promise (equivalent to the await keyword in ES2015, with continuations passed explicitly)\nexport function _await(value, then, direct) {\n\tif (direct) {\n\t\treturn then ? then(value) : value;\n\t}\n\tif (!value || !value.then) {\n\t\tvalue = Promise.resolve(value);\n\t}\n\treturn then ? value.then(then) : value;\n}\n\n// Awaits on a value that may or may not be a Promise, then ignores it\nexport function _awaitIgnored(value, direct) {\n\tif (!direct) {\n\t\treturn value && value.then ? value.then(_empty) : Promise.resolve();\n\t}\n}\n\n// Proceeds after a value has resolved, or proceeds immediately if the value is not thenable\nexport function _continue(value, then) {\n\treturn value && value.then ? value.then(then) : then(value);\n}\n\n// Proceeds after a value has resolved, or proceeds immediately if the value is not thenable\nexport function _continueIgnored(value) {\n\tif (value && value.then) {\n\t\treturn value.then(_empty);\n\t}\n}\n\n// Asynchronously iterate through an object that has a length property, passing the index as the first argument to the callback (even as the length property changes)\nexport function _forTo(array, body, check) {\n\tvar i = -1, pact, reject;\n\tfunction _cycle(result) {\n\t\ttry {\n\t\t\twhile (++i < array.length && (!check || !check())) {\n\t\t\t\tresult = body(i);\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult.then(_cycle, reject || (reject = _settle.bind(null, pact = new _Pact(), 2)));\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (pact) {\n\t\t\t\t_settle(pact, 1, result);\n\t\t\t} else {\n\t\t\t\tpact = result;\n\t\t\t}\n\t\t} catch (e) {\n\t\t\t_settle(pact || (pact = new _Pact()), 2, e);\n\t\t}\n\t}\n\t_cycle();\n\treturn pact;\n}\n\n// Asynchronously iterate through an object's properties (including properties inherited from the prototype)\n// Uses a snapshot of the object's properties\nexport function _forIn(target, body, check) {\n\tvar keys = [];\n\tfor (var key in target) {\n\t\tkeys.push(key);\n\t}\n\treturn _forTo(keys, function(i) { return body(keys[i]); }, check);\n}\n\n// Asynchronously iterate through an object's own properties (excluding properties inherited from the prototype)\n// Uses a snapshot of the object's properties\nexport function _forOwn(target, body, check) {\n\tvar keys = [];\n\tfor (var key in target) {\n\t\tif (Object.prototype.hasOwnProperty.call(target, key)) {\n\t\t\tkeys.push(key);\n\t\t}\n\t}\n\treturn _forTo(keys, function(i) { return body(keys[i]); }, check);\n}\n\nexport const _iteratorSymbol = /*#__PURE__*/ typeof Symbol !== \"undefined\" ? (Symbol.iterator || (Symbol.iterator = Symbol(\"Symbol.iterator\"))) : \"@@iterator\";\n\n// Asynchronously iterate through an object's values\n// Uses for...of if the runtime supports it, otherwise iterates until length on a copy\nexport function _forOf(target, body, check) {\n\tif (typeof target[_iteratorSymbol] === \"function\") {\n\t\tvar iterator = target[_iteratorSymbol](), step, pact, reject;\n\t\tfunction _cycle(result) {\n\t\t\ttry {\n\t\t\t\twhile (!(step = iterator.next()).done && (!check || !check())) {\n\t\t\t\t\tresult = body(step.value);\n\t\t\t\t\tif (result && result.then) {\n\t\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tresult.then(_cycle, reject || (reject = _settle.bind(null, pact = new _Pact(), 2)));\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (pact) {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t} else {\n\t\t\t\t\tpact = result;\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t_settle(pact || (pact = new _Pact()), 2, e);\n\t\t\t}\n\t\t}\n\t\t_cycle();\n\t\tif (iterator.return) {\n\t\t\tvar _fixup = function(value) {\n\t\t\t\ttry {\n\t\t\t\t\tif (!step.done) {\n\t\t\t\t\t\titerator.return();\n\t\t\t\t\t}\n\t\t\t\t} catch(e) {\n\t\t\t\t}\n\t\t\t\treturn value;\n\t\t\t}\n\t\t\tif (pact && pact.then) {\n\t\t\t\treturn pact.then(_fixup, function(e) {\n\t\t\t\t\tthrow _fixup(e);\n\t\t\t\t});\n\t\t\t}\n\t\t\t_fixup();\n\t\t}\n\t\treturn pact;\n\t}\n\t// No support for Symbol.iterator\n\tif (!(\"length\" in target)) {\n\t\tthrow new TypeError(\"Object is not iterable\");\n\t}\n\t// Handle live collections properly\n\tvar values = [];\n\tfor (var i = 0; i < target.length; i++) {\n\t\tvalues.push(target[i]);\n\t}\n\treturn _forTo(values, function(i) { return body(values[i]); }, check);\n}\n\nexport const _asyncIteratorSymbol = /*#__PURE__*/ typeof Symbol !== \"undefined\" ? (Symbol.asyncIterator || (Symbol.asyncIterator = Symbol(\"Symbol.asyncIterator\"))) : \"@@asyncIterator\";\n\n// Asynchronously iterate on a value using it's async iterator if present, or its synchronous iterator if missing\nexport function _forAwaitOf(target, body, check) {\n\tif (typeof target[_asyncIteratorSymbol] === \"function\") {\n\t\tvar pact = new _Pact();\n\t\tvar iterator = target[_asyncIteratorSymbol]();\n\t\titerator.next().then(_resumeAfterNext).then(void 0, _reject);\n\t\treturn pact;\n\t\tfunction _resumeAfterBody(result) {\n\t\t\tif (check && check()) {\n\t\t\t\treturn _settle(pact, 1, iterator.return ? iterator.return().then(function() { return result; }) : result);\n\t\t\t}\n\t\t\titerator.next().then(_resumeAfterNext).then(void 0, _reject);\n\t\t}\n\t\tfunction _resumeAfterNext(step) {\n\t\t\tif (step.done) {\n\t\t\t\t_settle(pact, 1);\n\t\t\t} else {\n\t\t\t\tPromise.resolve(body(step.value)).then(_resumeAfterBody).then(void 0, _reject);\n\t\t\t}\n\t\t}\n\t\tfunction _reject(error) {\n\t\t\t_settle(pact, 2, iterator.return ? iterator.return().then(function() { return error; }) : error);\n\t\t}\n\t}\n\treturn Promise.resolve(_forOf(target, function(value) { return Promise.resolve(value).then(body); }, check));\n}\n\n// Asynchronously implement a generic for loop\nexport function _for(test, update, body) {\n\tvar stage;\n\tfor (;;) {\n\t\tvar shouldContinue = test();\n\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\tshouldContinue = shouldContinue.v;\n\t\t}\n\t\tif (!shouldContinue) {\n\t\t\treturn result;\n\t\t}\n\t\tif (shouldContinue.then) {\n\t\t\tstage = 0;\n\t\t\tbreak;\n\t\t}\n\t\tvar result = body();\n\t\tif (result && result.then) {\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.s;\n\t\t\t} else {\n\t\t\t\tstage = 1;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (update) {\n\t\t\tvar updateValue = update();\n\t\t\tif (updateValue && updateValue.then && !_isSettledPact(updateValue)) {\n\t\t\t\tstage = 2;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\tvar pact = new _Pact();\n\tvar reject = _settle.bind(null, pact, 2);\n\t(stage === 0 ? shouldContinue.then(_resumeAfterTest) : stage === 1 ? result.then(_resumeAfterBody) : updateValue.then(_resumeAfterUpdate)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterBody(value) {\n\t\tresult = value;\n\t\tdo {\n\t\t\tif (update) {\n\t\t\t\tupdateValue = update();\n\t\t\t\tif (updateValue && updateValue.then && !_isSettledPact(updateValue)) {\n\t\t\t\t\tupdateValue.then(_resumeAfterUpdate).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tshouldContinue = test();\n\t\t\tif (!shouldContinue || (_isSettledPact(shouldContinue) && !shouldContinue.v)) {\n\t\t\t\t_settle(pact, 1, result);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.v;\n\t\t\t}\n\t\t} while (!result || !result.then);\n\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t}\n\tfunction _resumeAfterTest(shouldContinue) {\n\t\tif (shouldContinue) {\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t} else {\n\t\t\t\t_resumeAfterBody(result);\n\t\t\t}\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n\tfunction _resumeAfterUpdate() {\n\t\tif (shouldContinue = test()) {\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t} else {\n\t\t\t\t_resumeAfterTest(shouldContinue);\n\t\t\t}\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n}\n\n// Asynchronously implement a do ... while loop\nexport function _do(body, test) {\n\tvar awaitBody;\n\tdo {\n\t\tvar result = body();\n\t\tif (result && result.then) {\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.v;\n\t\t\t} else {\n\t\t\t\tawaitBody = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tvar shouldContinue = test();\n\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\tshouldContinue = shouldContinue.v;\n\t\t}\n\t\tif (!shouldContinue) {\n\t\t\treturn result;\n\t\t}\n\t} while (!shouldContinue.then);\n\tconst pact = new _Pact();\n\tconst reject = _settle.bind(null, pact, 2);\n\t(awaitBody ? result.then(_resumeAfterBody) : shouldContinue.then(_resumeAfterTest)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterBody(value) {\n\t\tresult = value;\n\t\tfor (;;) {\n\t\t\tshouldContinue = test();\n\t\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\t\tshouldContinue = shouldContinue.v;\n\t\t\t}\n\t\t\tif (!shouldContinue) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\tresult = result.v;\n\t\t\t\t} else {\n\t\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t_settle(pact, 1, result);\n\t}\n\tfunction _resumeAfterTest(shouldContinue) {\n\t\tif (shouldContinue) {\n\t\t\tdo {\n\t\t\t\tresult = body();\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tshouldContinue = test();\n\t\t\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\t\t\tshouldContinue = shouldContinue.v;\n\t\t\t\t}\n\t\t\t\tif (!shouldContinue) {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} while (!shouldContinue.then);\n\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n}\n\n// Asynchronously implement a switch statement\nexport function _switch(discriminant, cases) {\n\tvar dispatchIndex = -1;\n\tvar awaitBody;\n\touter: {\n\t\tfor (var i = 0; i < cases.length; i++) {\n\t\t\tvar test = cases[i][0];\n\t\t\tif (test) {\n\t\t\t\tvar testValue = test();\n\t\t\t\tif (testValue && testValue.then) {\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t\tif (testValue === discriminant) {\n\t\t\t\t\tdispatchIndex = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Found the default case, set it as the pending dispatch case\n\t\t\t\tdispatchIndex = i;\n\t\t\t}\n\t\t}\n\t\tif (dispatchIndex !== -1) {\n\t\t\tdo {\n\t\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\t\twhile (!body) {\n\t\t\t\t\tdispatchIndex++;\n\t\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t\t}\n\t\t\t\tvar result = body();\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tawaitBody = true;\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\t\tdispatchIndex++;\n\t\t\t} while (fallthroughCheck && !fallthroughCheck());\n\t\t\treturn result;\n\t\t}\n\t}\n\tconst pact = new _Pact();\n\tconst reject = _settle.bind(null, pact, 2);\n\t(awaitBody ? result.then(_resumeAfterBody) : testValue.then(_resumeAfterTest)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterTest(value) {\n\t\tfor (;;) {\n\t\t\tif (value === discriminant) {\n\t\t\t\tdispatchIndex = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (++i === cases.length) {\n\t\t\t\tif (dispatchIndex !== -1) {\n\t\t\t\t\tbreak;\n\t\t\t\t} else {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\ttest = cases[i][0];\n\t\t\tif (test) {\n\t\t\t\tvalue = test();\n\t\t\t\tif (value && value.then) {\n\t\t\t\t\tvalue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tdispatchIndex = i;\n\t\t\t}\n\t\t}\n\t\tdo {\n\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\twhile (!body) {\n\t\t\t\tdispatchIndex++;\n\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t}\n\t\t\tvar result = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\tdispatchIndex++;\n\t\t} while (fallthroughCheck && !fallthroughCheck());\n\t\t_settle(pact, 1, result);\n\t}\n\tfunction _resumeAfterBody(result) {\n\t\tfor (;;) {\n\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\tif (!fallthroughCheck || fallthroughCheck()) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdispatchIndex++;\n\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\twhile (!body) {\n\t\t\t\tdispatchIndex++;\n\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\t_settle(pact, 1, result);\n\t}\n}\n\n// Asynchronously call a function and pass the result to explicitly passed continuations\nexport function _call(body, then, direct) {\n\tif (direct) {\n\t\treturn then ? then(body()) : body();\n\t}\n\ttry {\n\t\tvar result = Promise.resolve(body());\n\t\treturn then ? result.then(then) : result;\n\t} catch (e) {\n\t\treturn Promise.reject(e);\n\t}\n}\n\n// Asynchronously call a function and swallow the result\nexport function _callIgnored(body, direct) {\n\treturn _call(body, _empty, direct);\n}\n\n// Asynchronously call a function and pass the result to explicitly passed continuations\nexport function _invoke(body, then) {\n\tvar result = body();\n\tif (result && result.then) {\n\t\treturn result.then(then);\n\t}\n\treturn then(result);\n}\n\n// Asynchronously call a function and swallow the result\nexport function _invokeIgnored(body) {\n\tvar result = body();\n\tif (result && result.then) {\n\t\treturn result.then(_empty);\n\t}\n}\n\n// Asynchronously call a function and send errors to recovery continuation\nexport function _catch(body, recover) {\n\ttry {\n\t\tvar result = body();\n\t} catch(e) {\n\t\treturn recover(e);\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(void 0, recover);\n\t}\n\treturn result;\n}\n\n// Asynchronously await a promise and pass the result to a finally continuation\nexport function _finallyRethrows(body, finalizer) {\n\ttry {\n\t\tvar result = body();\n\t} catch (e) {\n\t\treturn finalizer(true, e);\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(finalizer.bind(null, false), finalizer.bind(null, true));\n\t}\n\treturn finalizer(false, result);\n}\n\n// Asynchronously await a promise and invoke a finally continuation that always overrides the result\nexport function _finally(body, finalizer) {\n\ttry {\n\t\tvar result = body();\n\t} catch (e) {\n\t\treturn finalizer();\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(finalizer, finalizer);\n\t}\n\treturn finalizer();\n}\n\n// Rethrow or return a value from a finally continuation\nexport function _rethrow(thrown, value) {\n\tif (thrown)\n\t\tthrow value;\n\treturn value;\n}\n\n// Empty function to implement break and other control flow that ignores asynchronous results\nexport function _empty() {\n}\n\n// Sentinel value for early returns in generators \nexport const _earlyReturn = /*#__PURE__*/ {};\n\n// Asynchronously call a function and send errors to recovery continuation, skipping early returns\nexport function _catchInGenerator(body, recover) {\n\treturn _catch(body, function(e) {\n\t\tif (e === _earlyReturn) {\n\t\t\tthrow e;\n\t\t}\n\t\treturn recover(e);\n\t});\n}\n\n// Asynchronous generator class; accepts the entrypoint of the generator, to which it passes itself when the generator should start\nexport const _AsyncGenerator = /*#__PURE__*/(function() {\n\tfunction _AsyncGenerator(entry) {\n\t\tthis._entry = entry;\n\t\tthis._pact = null;\n\t\tthis._resolve = null;\n\t\tthis._return = null;\n\t\tthis._promise = null;\n\t}\n\n\tfunction _wrapReturnedValue(value) {\n\t\treturn { value: value, done: true };\n\t}\n\tfunction _wrapYieldedValue(value) {\n\t\treturn { value: value, done: false };\n\t}\n\n\t_AsyncGenerator.prototype._yield = function(value) {\n\t\t// Yield the value to the pending next call\n\t\tthis._resolve(value && value.then ? value.then(_wrapYieldedValue) : _wrapYieldedValue(value));\n\t\t// Return a pact for an upcoming next/return/throw call\n\t\treturn this._pact = new _Pact();\n\t};\n\t_AsyncGenerator.prototype.next = function(value) {\n\t\t// Advance the generator, starting it if it has yet to be started\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tconst _entry = _this._entry;\n\t\t\t\tif (_entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the next call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Start the generator\n\t\t\t\t_this._entry = null;\n\t\t\t\t_this._resolve = resolve;\n\t\t\t\tfunction returnValue(value) {\n\t\t\t\t\t_this._resolve(value && value.then ? value.then(_wrapReturnedValue) : _wrapReturnedValue(value));\n\t\t\t\t\t_this._pact = null;\n\t\t\t\t\t_this._resolve = null;\n\t\t\t\t}\n\t\t\t\tvar result = _entry(_this);\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tresult.then(returnValue, function(error) {\n\t\t\t\t\t\tif (error === _earlyReturn) {\n\t\t\t\t\t\t\treturnValue(_this._return);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconst pact = new _Pact();\n\t\t\t\t\t\t\t_this._resolve(pact);\n\t\t\t\t\t\t\t_this._pact = null;\n\t\t\t\t\t\t\t_this._resolve = null;\n\t\t\t\t\t\t\t_resolve(pact, 2, error);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\treturnValue(result);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Generator is started and a yield expression is pending, settle it\n\t\t\t\t_this._pact = null;\n\t\t\t\t_this._resolve = resolve;\n\t\t\t\t_settle(_pact, 1, value);\n\t\t\t}\n\t\t});\n\t};\n\t_AsyncGenerator.prototype.return = function(value) {\n\t\t// Early return from the generator if started, otherwise abandons the generator\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tif (_this._entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the return call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Generator is not started, abandon it and return the specified value\n\t\t\t\t_this._entry = null;\n\t\t\t\treturn resolve(value && value.then ? value.then(_wrapReturnedValue) : _wrapReturnedValue(value));\n\t\t\t}\n\t\t\t// Settle the yield expression with a rejected \"early return\" value\n\t\t\t_this._return = value;\n\t\t\t_this._resolve = resolve;\n\t\t\t_this._pact = null;\n\t\t\t_settle(_pact, 2, _earlyReturn);\n\t\t});\n\t};\n\t_AsyncGenerator.prototype.throw = function(error) {\n\t\t// Inject an exception into the pending yield expression\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve, reject) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tif (_this._entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the throw call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Generator is not started, abandon it and return a rejected Promise containing the error\n\t\t\t\t_this._entry = null;\n\t\t\t\treturn reject(error);\n\t\t\t}\n\t\t\t// Settle the yield expression with the value as a rejection\n\t\t\t_this._resolve = resolve;\n\t\t\t_this._pact = null;\n\t\t\t_settle(_pact, 2, error);\n\t\t});\n\t};\n\n\t_AsyncGenerator.prototype[_asyncIteratorSymbol] = function() {\n\t\treturn this;\n\t};\n\t\n\treturn _AsyncGenerator;\n})();\n","/**\n * @barba/core/modules/Logger\n * <br><br>\n * ## Logger.\n *\n * - Display informations via the console\n *\n * @module core/modules/Logger\n * @preferred\n */\n\n/***/\n\n/**\n * Log levels, all lower level messages are printed\n *\n * 0. mute\n * 1. error = `console.error()`\n * 2. warning= `console.warn()`\n * 3. info = `console.info()`\n * 4. debug = `console.log()`\n */\nexport enum LogLevels {\n  off = 0,\n  error = 1,\n  warning = 2,\n  info = 3,\n  debug = 4,\n}\n\n/**\n * Global log level\n */\nlet _level: number = LogLevels.off;\n\nexport class Logger {\n  /**\n   * Get global log level.\n   */\n  public static getLevel(): number {\n    return _level;\n  }\n\n  /**\n   * Set global log level.\n   */\n  public static setLevel(name: keyof typeof LogLevels): number {\n    _level = LogLevels[name];\n\n    return _level;\n  }\n\n  /**\n   * Log \"prefix\".\n   */\n  private _source: string;\n\n  /**\n   * Creates an instance of Logger.\n   */\n  constructor(source: string) {\n    this._source = source;\n  }\n\n  /**\n   * Permanent, unremovable log.\n   */\n  // public print(...objects: any[]): void {\n  //   this._log(console.info, LogLevels.off, objects);\n  // }\n\n  /**\n   * Error log.\n   */\n  public error(...objects: any[]): void {\n    this._log(console.error, LogLevels.error, objects);\n  }\n\n  /**\n   * Warn log.\n   */\n  public warn(...objects: any[]): void {\n    this._log(console.warn, LogLevels.warning, objects);\n  }\n\n  /**\n   * Info log.\n   */\n  public info(...objects: any[]): void {\n    this._log(console.info, LogLevels.info, objects);\n  }\n\n  /**\n   * Debug log.\n   */\n  public debug(...objects: any[]): void {\n    this._log(console.log, LogLevels.debug, objects);\n  }\n\n  /**\n   * Internal logger.\n   */\n  private _log(fn: () => void, level: number, objects: any[]): void {\n    if (level <= Logger.getLevel()) {\n      fn.apply(console, ([`[${this._source}] `].concat(objects) as unknown) as [\n\n      ]);\n    }\n  }\n}\n","/**\n * @module typings/core\n */\nimport { ITransitionData, ITransitionPage, IViewData } from './index';\n\nexport type HooksBarba =\n  | 'ready'\n  | 'page'\n  | 'reset'\n  | 'currentAdded'\n  | 'currentRemoved'\n  | 'nextAdded'\n  | 'nextRemoved';\n\nexport type HooksOnce = 'beforeOnce' | 'once' | 'afterOnce';\n\nexport type HooksPage =\n  | 'before'\n  | 'beforeLeave'\n  | 'leave'\n  | 'afterLeave'\n  | 'beforeEnter'\n  | 'enter'\n  | 'afterEnter'\n  | 'after';\n\nexport type HooksBefore = 'beforeOnce' | 'beforeLeave' | 'beforeEnter';\nexport type HooksAfter = 'afterOnce' | 'afterLeave' | 'afterEnter';\n\nexport type HooksTransition = HooksOnce | HooksPage;\nexport type HooksView = HooksBefore | HooksAfter;\nexport type HooksAll = HooksBarba | HooksTransition;\n\n// Allow optional \"dynamically created\" hooks\nexport type HooksTransitionMap = { [key in HooksTransition]?: any };\n\nexport type HookFunction = (\n  data?: ITransitionData | IViewData,\n  t?: ITransitionPage\n) => Promise<void> | void;\n\nexport class HookMethods {\n  public before: (fn: HookFunction, ctx?: any) => void;\n  public beforeLeave: (fn: HookFunction, ctx?: any) => void;\n  public leave: (fn: HookFunction, ctx?: any) => void;\n  public afterLeave: (fn: HookFunction, ctx?: any) => void;\n  public beforeEnter: (fn: HookFunction, ctx?: any) => void;\n  public enter: (fn: HookFunction, ctx?: any) => void;\n  public afterEnter: (fn: HookFunction, ctx?: any) => void;\n  public after: (fn: HookFunction, ctx?: any) => void;\n}\n","/**\n * Expose `pathToRegexp`.\n */\nmodule.exports = pathToRegexp\nmodule.exports.match = match\nmodule.exports.regexpToFunction = regexpToFunction\nmodule.exports.parse = parse\nmodule.exports.compile = compile\nmodule.exports.tokensToFunction = tokensToFunction\nmodule.exports.tokensToRegExp = tokensToRegExp\n\n/**\n * Default configs.\n */\nvar DEFAULT_DELIMITER = '/'\n\n/**\n * The main path matching regexp utility.\n *\n * @type {RegExp}\n */\nvar PATH_REGEXP = new RegExp([\n  // Match escaped characters that would otherwise appear in future matches.\n  // This allows the user to escape special characters that won't transform.\n  '(\\\\\\\\.)',\n  // Match Express-style parameters and un-named parameters with a prefix\n  // and optional suffixes. Matches appear as:\n  //\n  // \":test(\\\\d+)?\" => [\"test\", \"\\d+\", undefined, \"?\"]\n  // \"(\\\\d+)\"  => [undefined, undefined, \"\\d+\", undefined]\n  '(?:\\\\:(\\\\w+)(?:\\\\(((?:\\\\\\\\.|[^\\\\\\\\()])+)\\\\))?|\\\\(((?:\\\\\\\\.|[^\\\\\\\\()])+)\\\\))([+*?])?'\n].join('|'), 'g')\n\n/**\n * Parse a string for the raw tokens.\n *\n * @param  {string}  str\n * @param  {Object=} options\n * @return {!Array}\n */\nfunction parse (str, options) {\n  var tokens = []\n  var key = 0\n  var index = 0\n  var path = ''\n  var defaultDelimiter = (options && options.delimiter) || DEFAULT_DELIMITER\n  var whitelist = (options && options.whitelist) || undefined\n  var pathEscaped = false\n  var res\n\n  while ((res = PATH_REGEXP.exec(str)) !== null) {\n    var m = res[0]\n    var escaped = res[1]\n    var offset = res.index\n    path += str.slice(index, offset)\n    index = offset + m.length\n\n    // Ignore already escaped sequences.\n    if (escaped) {\n      path += escaped[1]\n      pathEscaped = true\n      continue\n    }\n\n    var prev = ''\n    var name = res[2]\n    var capture = res[3]\n    var group = res[4]\n    var modifier = res[5]\n\n    if (!pathEscaped && path.length) {\n      var k = path.length - 1\n      var c = path[k]\n      var matches = whitelist ? whitelist.indexOf(c) > -1 : true\n\n      if (matches) {\n        prev = c\n        path = path.slice(0, k)\n      }\n    }\n\n    // Push the current path onto the tokens.\n    if (path) {\n      tokens.push(path)\n      path = ''\n      pathEscaped = false\n    }\n\n    var repeat = modifier === '+' || modifier === '*'\n    var optional = modifier === '?' || modifier === '*'\n    var pattern = capture || group\n    var delimiter = prev || defaultDelimiter\n\n    tokens.push({\n      name: name || key++,\n      prefix: prev,\n      delimiter: delimiter,\n      optional: optional,\n      repeat: repeat,\n      pattern: pattern\n        ? escapeGroup(pattern)\n        : '[^' + escapeString(delimiter === defaultDelimiter ? delimiter : (delimiter + defaultDelimiter)) + ']+?'\n    })\n  }\n\n  // Push any remaining characters.\n  if (path || index < str.length) {\n    tokens.push(path + str.substr(index))\n  }\n\n  return tokens\n}\n\n/**\n * Compile a string to a template function for the path.\n *\n * @param  {string}             str\n * @param  {Object=}            options\n * @return {!function(Object=, Object=)}\n */\nfunction compile (str, options) {\n  return tokensToFunction(parse(str, options), options)\n}\n\n/**\n * Create path match function from `path-to-regexp` spec.\n */\nfunction match (str, options) {\n  var keys = []\n  var re = pathToRegexp(str, keys, options)\n  return regexpToFunction(re, keys)\n}\n\n/**\n * Create a path match function from `path-to-regexp` output.\n */\nfunction regexpToFunction (re, keys) {\n  return function (pathname, options) {\n    var m = re.exec(pathname)\n    if (!m) return false\n\n    var path = m[0]\n    var index = m.index\n    var params = {}\n    var decode = (options && options.decode) || decodeURIComponent\n\n    for (var i = 1; i < m.length; i++) {\n      if (m[i] === undefined) continue\n\n      var key = keys[i - 1]\n\n      if (key.repeat) {\n        params[key.name] = m[i].split(key.delimiter).map(function (value) {\n          return decode(value, key)\n        })\n      } else {\n        params[key.name] = decode(m[i], key)\n      }\n    }\n\n    return { path: path, index: index, params: params }\n  }\n}\n\n/**\n * Expose a method for transforming tokens into the path function.\n */\nfunction tokensToFunction (tokens, options) {\n  // Compile all the tokens into regexps.\n  var matches = new Array(tokens.length)\n\n  // Compile all the patterns before compilation.\n  for (var i = 0; i < tokens.length; i++) {\n    if (typeof tokens[i] === 'object') {\n      matches[i] = new RegExp('^(?:' + tokens[i].pattern + ')$', flags(options))\n    }\n  }\n\n  return function (data, options) {\n    var path = ''\n    var encode = (options && options.encode) || encodeURIComponent\n    var validate = options ? options.validate !== false : true\n\n    for (var i = 0; i < tokens.length; i++) {\n      var token = tokens[i]\n\n      if (typeof token === 'string') {\n        path += token\n        continue\n      }\n\n      var value = data ? data[token.name] : undefined\n      var segment\n\n      if (Array.isArray(value)) {\n        if (!token.repeat) {\n          throw new TypeError('Expected \"' + token.name + '\" to not repeat, but got array')\n        }\n\n        if (value.length === 0) {\n          if (token.optional) continue\n\n          throw new TypeError('Expected \"' + token.name + '\" to not be empty')\n        }\n\n        for (var j = 0; j < value.length; j++) {\n          segment = encode(value[j], token)\n\n          if (validate && !matches[i].test(segment)) {\n            throw new TypeError('Expected all \"' + token.name + '\" to match \"' + token.pattern + '\"')\n          }\n\n          path += (j === 0 ? token.prefix : token.delimiter) + segment\n        }\n\n        continue\n      }\n\n      if (typeof value === 'string' || typeof value === 'number' || typeof value === 'boolean') {\n        segment = encode(String(value), token)\n\n        if (validate && !matches[i].test(segment)) {\n          throw new TypeError('Expected \"' + token.name + '\" to match \"' + token.pattern + '\", but got \"' + segment + '\"')\n        }\n\n        path += token.prefix + segment\n        continue\n      }\n\n      if (token.optional) continue\n\n      throw new TypeError('Expected \"' + token.name + '\" to be ' + (token.repeat ? 'an array' : 'a string'))\n    }\n\n    return path\n  }\n}\n\n/**\n * Escape a regular expression string.\n *\n * @param  {string} str\n * @return {string}\n */\nfunction escapeString (str) {\n  return str.replace(/([.+*?=^!:${}()[\\]|/\\\\])/g, '\\\\$1')\n}\n\n/**\n * Escape the capturing group by escaping special characters and meaning.\n *\n * @param  {string} group\n * @return {string}\n */\nfunction escapeGroup (group) {\n  return group.replace(/([=!:$/()])/g, '\\\\$1')\n}\n\n/**\n * Get the flags for a regexp from the options.\n *\n * @param  {Object} options\n * @return {string}\n */\nfunction flags (options) {\n  return options && options.sensitive ? '' : 'i'\n}\n\n/**\n * Pull out keys from a regexp.\n *\n * @param  {!RegExp} path\n * @param  {Array=}  keys\n * @return {!RegExp}\n */\nfunction regexpToRegexp (path, keys) {\n  if (!keys) return path\n\n  // Use a negative lookahead to match only capturing groups.\n  var groups = path.source.match(/\\((?!\\?)/g)\n\n  if (groups) {\n    for (var i = 0; i < groups.length; i++) {\n      keys.push({\n        name: i,\n        prefix: null,\n        delimiter: null,\n        optional: false,\n        repeat: false,\n        pattern: null\n      })\n    }\n  }\n\n  return path\n}\n\n/**\n * Transform an array into a regexp.\n *\n * @param  {!Array}  path\n * @param  {Array=}  keys\n * @param  {Object=} options\n * @return {!RegExp}\n */\nfunction arrayToRegexp (path, keys, options) {\n  var parts = []\n\n  for (var i = 0; i < path.length; i++) {\n    parts.push(pathToRegexp(path[i], keys, options).source)\n  }\n\n  return new RegExp('(?:' + parts.join('|') + ')', flags(options))\n}\n\n/**\n * Create a path regexp from string input.\n *\n * @param  {string}  path\n * @param  {Array=}  keys\n * @param  {Object=} options\n * @return {!RegExp}\n */\nfunction stringToRegexp (path, keys, options) {\n  return tokensToRegExp(parse(path, options), keys, options)\n}\n\n/**\n * Expose a function for taking tokens and returning a RegExp.\n *\n * @param  {!Array}  tokens\n * @param  {Array=}  keys\n * @param  {Object=} options\n * @return {!RegExp}\n */\nfunction tokensToRegExp (tokens, keys, options) {\n  options = options || {}\n\n  var strict = options.strict\n  var start = options.start !== false\n  var end = options.end !== false\n  var delimiter = options.delimiter || DEFAULT_DELIMITER\n  var endsWith = [].concat(options.endsWith || []).map(escapeString).concat('$').join('|')\n  var route = start ? '^' : ''\n\n  // Iterate over the tokens and create our regexp string.\n  for (var i = 0; i < tokens.length; i++) {\n    var token = tokens[i]\n\n    if (typeof token === 'string') {\n      route += escapeString(token)\n    } else {\n      var capture = token.repeat\n        ? '(?:' + token.pattern + ')(?:' + escapeString(token.delimiter) + '(?:' + token.pattern + '))*'\n        : token.pattern\n\n      if (keys) keys.push(token)\n\n      if (token.optional) {\n        if (!token.prefix) {\n          route += '(' + capture + ')?'\n        } else {\n          route += '(?:' + escapeString(token.prefix) + '(' + capture + '))?'\n        }\n      } else {\n        route += escapeString(token.prefix) + '(' + capture + ')'\n      }\n    }\n  }\n\n  if (end) {\n    if (!strict) route += '(?:' + escapeString(delimiter) + ')?'\n\n    route += endsWith === '$' ? '$' : '(?=' + endsWith + ')'\n  } else {\n    var endToken = tokens[tokens.length - 1]\n    var isEndDelimited = typeof endToken === 'string'\n      ? endToken[endToken.length - 1] === delimiter\n      : endToken === undefined\n\n    if (!strict) route += '(?:' + escapeString(delimiter) + '(?=' + endsWith + '))?'\n    if (!isEndDelimited) route += '(?=' + escapeString(delimiter) + '|' + endsWith + ')'\n  }\n\n  return new RegExp(route, flags(options))\n}\n\n/**\n * Normalize the given path string, returning a regular expression.\n *\n * An empty array can be passed in for the keys, which will hold the\n * placeholder key descriptions. For example, using `/user/:id`, `keys` will\n * contain `[{ name: 'id', delimiter: '/', optional: false, repeat: false }]`.\n *\n * @param  {(string|RegExp|Array)} path\n * @param  {Array=}                keys\n * @param  {Object=}               options\n * @return {!RegExp}\n */\nfunction pathToRegexp (path, keys, options) {\n  if (path instanceof RegExp) {\n    return regexpToRegexp(path, keys)\n  }\n\n  if (Array.isArray(path)) {\n    return arrayToRegexp(/** @type {!Array} */ (path), keys, options)\n  }\n\n  return stringToRegexp(/** @type {string} */ (path), keys, options)\n}\n","/**\n * @barba/core/schemas\n * <br><br>\n * ## Schemas description.\n *\n * @module core/schemas\n * @preferred\n */\n\n/***/\n\n// Definitions\nimport { ISchemaAttribute } from '../defs';\n\n/**\n * See [[ISchemaAttribute]]\n */\nexport const schemaAttribute: ISchemaAttribute = {\n  container: 'container',\n  history: 'history',\n  namespace: 'namespace',\n  prefix: 'data-barba',\n  prevent: 'prevent',\n  wrapper: 'wrapper',\n};\n","/**\n * @barba/core/utils/dom\n * <br><br>\n * ## Dom utils\n *\n * - Access DOM contents\n * - DOM vs string conversions\n *\n * @module core/utils/dom\n * @preferred\n */\n\n/***/\n\nimport path from 'path';\n\n// Definitions\nimport { ISchemaAttribute, Link, Scope, Wrapper } from '../defs';\n// Schemas\nimport { schemaAttribute } from '../schemas/attribute';\n\nexport class Dom {\n  private _attr: ISchemaAttribute = schemaAttribute;\n  private _parser: DOMParser = new DOMParser();\n\n  /**\n   * Convert HTMLDocument to string.\n   */\n  public toString(el: HTMLElement): string {\n    return el.outerHTML;\n  }\n\n  /**\n   * Parse HTML string to HTMLDocument.\n   */\n  // see https://github.com/barbajs/barba/issues/362\n  // Seems that using DOMParser.parseFromString causes this issue.\n  public toDocument(htmlString: string): HTMLDocument {\n    return this._parser.parseFromString(htmlString, 'text/html');\n  }\n\n  /**\n   * Parse HTML string to DIVElement.\n   *\n   * DOMParser.parseFromString fails with img[srcset] on iOS.\n   * see https://github.com/barbajs/barba/issues/362\n   */\n  public toElement(htmlString: string): HTMLDivElement {\n    const div = document.createElement('div');\n\n    div.innerHTML = htmlString;\n    return div;\n  }\n\n  /**\n   * Get HTML content.\n   */\n  public getHtml(doc: HTMLDocument = document): string {\n    return this.toString(doc.documentElement);\n  }\n\n  /**\n   * Get full document content.\n   */\n  // getDocument(el = document.documentElement) {\n  //   return this.toStr(el);\n  // },\n\n  /**\n   * Get `[data-barba=\"wrapper\"]`.\n   */\n  public getWrapper(scope: Scope = document): Wrapper {\n    return scope.querySelector(\n      `[${this._attr.prefix}=\"${this._attr.wrapper}\"]`\n    );\n  }\n\n  /**\n   * Get `[data-barba=\"container\"]`.\n   */\n  public getContainer(scope: Scope = document): HTMLElement | null {\n    return scope.querySelector(\n      `[${this._attr.prefix}=\"${this._attr.container}\"]`\n    );\n  }\n\n  /**\n   * Remove container and store next sibling (if applicable).\n   */\n  public removeContainer(container: HTMLElement) {\n    if (document.body.contains(container)) {\n      container.parentNode.removeChild(container);\n    }\n  }\n\n  /**\n   * Add container before next sibling or at the end of the wrapper.\n   */\n  public addContainer(container: HTMLElement, wrapper: HTMLElement) {\n    const existingContainer = this.getContainer();\n\n    if (existingContainer) {\n      this._insertAfter(container, existingContainer);\n    } else {\n      wrapper.appendChild(container);\n    }\n  }\n\n  /**\n   * Get `[data-barba-namespace]`.\n   */\n  public getNamespace(scope: Scope = document): string | null {\n    const ns = scope.querySelector(\n      `[${this._attr.prefix}-${this._attr.namespace}]`\n    );\n\n    return ns\n      ? ns.getAttribute(`${this._attr.prefix}-${this._attr.namespace}`)\n      : null;\n  }\n\n  /**\n   * Get URL from `href` value.\n   */\n  public getHref(el: Link): string | null {\n    // HTML tagName is UPPERCASE, xhtml tagName keeps existing case.\n    if (el.tagName && el.tagName.toLowerCase() === 'a') {\n      // HTMLAnchorElement, full URL available\n      if (typeof el.href === 'string') {\n        return el.href;\n      }\n\n      // Probably a SVGAElement\n      const href = el.getAttribute('href') || el.getAttribute('xlink:href');\n\n      /* istanbul ignore else */\n      if (href) {\n        // When link comes from SVG, `href` returns an object, not a string.\n        const attr: string =\n          ((href as unknown) as SVGAnimatedString).baseVal || href;\n\n        return this.resolveUrl(attr);\n      }\n    }\n    return null;\n  }\n\n  // Copyright 2014 Simon Lydell\n  // X11 (MIT) Licensed. (See LICENSE\n  // https://github.com/lydell/resolve-url/blob/master/resolve-url.js\n  /* istanbul ignore next */\n  public resolveUrl(...urls: string[]) {\n    const numUrls = urls.length;\n\n    if (numUrls === 0) {\n      throw new Error('resolveUrl requires at least one argument; got none.');\n    }\n\n    const base = document.createElement('base');\n    base.href = arguments[0];\n\n    if (numUrls === 1) {\n      return base.href;\n    }\n\n    const head = document.getElementsByTagName('head')[0];\n    head.insertBefore(base, head.firstChild);\n\n    const a = document.createElement('a');\n    let resolved;\n\n    for (let index = 1; index < numUrls; index++) {\n      a.href = arguments[index];\n      resolved = a.href;\n      base.href = resolved;\n    }\n\n    head.removeChild(base);\n\n    return resolved;\n  }\n\n  /**\n   * Insert node after another node.\n   */\n  private _insertAfter(newNode: Node, referenceNode: Node) {\n    referenceNode.parentNode.insertBefore(newNode, referenceNode.nextSibling);\n  }\n}\n\nconst dom = new Dom();\n\nexport { dom };\n","import { HistoryAction, LinkEvent, Trigger } from '../defs';\n// Schemas\nimport { schemaAttribute } from '../schemas/attribute';\n\n/**\n * @barba/core/utils/history\n * <br><br>\n * ## History manager.\n *\n * - Keep track of the navigation history\n *\n * @module core/utils/history\n * @preferred\n */\n\n/**\n * State item.\n *\n * @property from\n * @property index\n */\ninterface IHistoryItem {\n  /** origin */\n  from: string;\n  /** index */\n  index: number;\n  /** states */\n  states: IStateItem[];\n}\n\n/***/\ninterface ICoords {\n  x: number;\n  y: number;\n}\n\n/**\n * History item.\n *\n * @property namespace\n * @property scroll\n * @property URL\n */\ninterface IStateItem {\n  /** namespace */\n  ns: string | undefined;\n  /** Scroll position */\n  scroll: ICoords;\n  /** URL */\n  url: string;\n}\n\nexport class History {\n  private _session: string;\n  private _states: IStateItem[] = [];\n  private _pointer = -1;\n\n  /**\n   * Init with first state.\n   */\n  public init(url: string, ns: string): void {\n    this._session = 'barba';\n    const index = 0;\n\n    const state: IStateItem = {\n      ns,\n      scroll: {\n        x: window.scrollX,\n        y: window.scrollY,\n      },\n      url,\n    };\n\n    this._states.push(state);\n    this._pointer = index;\n\n    const item: IHistoryItem = {\n      from: this._session,\n      index,\n      states: [...this._states],\n    };\n\n    window.history && window.history.replaceState(item, '', url);\n  }\n\n  public change(\n    url: string,\n    trigger: Trigger,\n    e?: LinkEvent | PopStateEvent\n  ): Trigger {\n    if (e && (e as PopStateEvent).state) {\n      // If popstate, move to existing state\n      // and get back/forward direction.\n      const { state }: { state: IHistoryItem } = e as PopStateEvent;\n      const { index } = state;\n      const diff = this._pointer - index;\n\n      trigger = this._getDirection(diff);\n\n      // Work with previous states\n      this.replace(state.states);\n      this._pointer = index;\n    } else {\n      // Add new state\n      this.add(url, trigger);\n    }\n\n    return trigger;\n  }\n\n  /**\n   * Add a new state.\n   */\n  public add(url: string, trigger: Trigger): void {\n    // If no state, it will be updated later.\n    const ns = 'tmp';\n    const index = this.size;\n    const action = this._getAction(trigger);\n    const state: IStateItem = {\n      ns,\n      scroll: {\n        x: window.scrollX,\n        y: window.scrollY,\n      },\n      url,\n    };\n\n    this._states.push(state);\n    this._pointer = index;\n\n    const item: IHistoryItem = {\n      from: this._session,\n      index,\n      states: [...this._states],\n    };\n\n    switch (action) {\n      case 'push':\n        window.history && window.history.pushState(item, '', url);\n        break;\n      case 'replace':\n        window.history && window.history.replaceState(item, '', url);\n        break;\n      /* istanbul ignore next */\n      default:\n    }\n  }\n\n  /**\n   * Update state.\n   */\n  public update(data: any, i?: number): void {\n    const index = i || this._pointer;\n    const existing = this.get(index);\n    const state: IStateItem = {\n      ...existing,\n      ...data,\n    };\n\n    this.set(index, state);\n  }\n\n  /**\n   * Remove last state.\n   */\n  public remove(i?: number): void {\n    if (i) {\n      this._states.splice(i, 1);\n    } else {\n      this._states.pop();\n    }\n\n    this._pointer--;\n  }\n\n  /**\n   * Delete all states.\n   */\n  public clear(): void {\n    this._states = [];\n    this._pointer = -1;\n  }\n\n  /**\n   * Replace all states.\n   */\n  public replace(newStates: IStateItem[]): void {\n    this._states = newStates;\n  }\n\n  /**\n   * Get state by index.\n   */\n  public get(index: number) {\n    return this._states[index];\n  }\n\n  /**\n   * Set state by index.\n   */\n  public set(i: number, state: IStateItem) {\n    return (this._states[i] = state);\n  }\n\n  /**\n   * Get the current state.\n   */\n  get current(): IStateItem {\n    return this._states[this._pointer];\n  }\n\n  /**\n   * Get the last state (top of the history stack).\n   */\n  get state(): IStateItem {\n    return this._states[this._states.length - 1];\n  }\n\n  /**\n   * Get the previous state.\n   */\n  get previous(): IStateItem | null {\n    return this._pointer < 1 ? null : this._states[this._pointer - 1];\n  }\n\n  /**\n   * Get the state size.\n   */\n  get size(): number {\n    return this._states.length;\n  }\n\n  /**\n   * Get the history action: push vs replace\n   */\n  private _getAction(trigger: Trigger): HistoryAction {\n    let action: HistoryAction = 'push';\n\n    // Manage `data-barba-history` attribute\n    // to get the right action (push vs replace).\n    const el = trigger as HTMLAnchorElement;\n    const attr = `${schemaAttribute.prefix}-${schemaAttribute.history}`;\n\n    if (el.hasAttribute && el.hasAttribute(attr)) {\n      action = el.getAttribute(attr) as HistoryAction;\n    }\n\n    return action;\n  }\n\n  /**\n   * Get the direction of popstate change\n   */\n  private _getDirection(diff: number): Trigger {\n    // Check if \"session switch\"\n    if (Math.abs(diff) > 1) {\n      // Ex 6-0 > 0 -> forward, 0-6 < 0 -> back\n      return diff > 0 ? 'forward' : 'back';\n    } else {\n      if (diff === 0) {\n        return 'popstate';\n      } else {\n        // Ex 6-5 > 0 -> back, 5-6 < 0 -> forward\n        return diff > 0 ? 'back' : 'forward';\n      }\n    }\n  }\n}\n\nconst history = new History();\n\nexport { history };\n","/**\n * @barba/core/utils/helpers\n * <br><br>\n * ## Helpers\n *\n * - Update next page data\n *\n * @module core/utils/helpers\n * @preferred\n */\n\n/***/\n\n// Third-party\nimport ptr from 'path-to-regexp';\n// Definitions\nimport { ITransitionData } from '../defs';\n// Utils\nimport { dom } from './dom';\nimport { history } from './history';\n\n/**\n * Update `data.next`, the title and the history\n */\nexport const update = async (\n  page: Promise<string | void>,\n  data: ITransitionData\n): Promise<void> => {\n  // If not already updated\n  if (!data.next.html) {\n    const html = await page;\n    const { next } = data;\n\n    if (html) {\n      // see: https://github.com/barbajs/barba/issues/362\n      // const nextDocument = dom.toDocument(html);\n      const nextDocument = dom.toElement(html);\n\n      next.namespace = dom.getNamespace(nextDocument);\n      next.container = dom.getContainer(nextDocument);\n      // see https://github.com/barbajs/barba/issues/362\n      // next.html = dom.getHtml(nextDocument);\n      // next.html = nextDocument.innerHTML;\n      next.html = html;\n\n      // Update history namespace (not available when initially set)\n      history.update({ ns: next.namespace });\n\n      // Update title.\n      const { title } = dom.toDocument(html);\n\n      document.title = title;\n    }\n  }\n};\n\n/**\n * Next tick\n */\nexport const nextTick = () =>\n  new Promise(resolve => {\n    window.requestAnimationFrame(resolve);\n    // DEV: same result?\n    // setTimeout(resolve, 0);\n  });\n\n/**\n * Turn a route string such as `/user/:name` into a regular expression.\n *\n * Used for:\n *\n * - routes to ignore\n * - route transition resolution\n *\n * @see https://www.npmjs.com/package/path-to-regexp\n */\nconst pathToRegexp = ptr;\n\nexport { pathToRegexp };\n","/**\n * @barba/core/utils/url\n * <br><br>\n * ## URL utils.\n *\n * - Collect and structure informations from URLs\n *\n * @module core/utils/url\n */\n\n/***/\n\n// Definitions\nimport { IGenericObject, IUrlBase } from '../defs';\n\n/**\n * Get location href.\n */\nexport const getHref = () => window.location.href;\n\n/**\n * Get location origin.\n */\nexport const getOrigin = () => window.location.origin;\n\n/**\n * Get port based on URL or location.\n */\nexport const getPort = (url: string = window.location.href) => parse(url).port;\n\n/**\n * Get path from URL.\n */\nexport const getPath = (url: string = window.location.href) => parse(url).path;\n\n/**\n * Get query object from URL.\n */\n// export const getQuery = (url: string): IGenericObject => parse(url).query;\n\n/**\n * Get hash from URL.\n */\n// export const getHash = (url: string): string => parse(url).hash;\n\n/**\n * Parse URL for path, query and hash and more.\n */\nexport const parse = (url: string): IUrlBase => {\n  // Port\n  let port;\n  const matches = url.match(/:\\d+/);\n\n  if (matches === null) {\n    if (/^http/.test(url)) {\n      port = 80;\n    }\n\n    if (/^https/.test(url)) {\n      port = 443;\n    }\n  } else {\n    const portString = matches[0].substring(1);\n\n    port = parseInt(portString, 10);\n  }\n\n  // Path\n  let path = url.replace(getOrigin(), '');\n  let hash;\n  let query = {};\n\n  // Hash\n  const hashIndex = path.indexOf('#');\n\n  if (hashIndex >= 0) {\n    hash = path.slice(hashIndex + 1);\n    path = path.slice(0, hashIndex);\n  }\n\n  // Query\n  const queryIndex = path.indexOf('?');\n\n  if (queryIndex >= 0) {\n    query = parseQuery(path.slice(queryIndex + 1));\n    path = path.slice(0, queryIndex);\n  }\n\n  return {\n    hash,\n    path,\n    port,\n    query,\n  };\n};\n\n/**\n * Parse a query string to object.\n */\nexport const parseQuery = (str: string) =>\n  str.split('&').reduce((acc: IGenericObject, el: string) => {\n    const [key, value] = el.split('=');\n\n    acc[key] = value;\n\n    return acc;\n  }, {});\n\n/**\n * Clean URL, remove \"hash\" and/or \"trailing slash\".\n */\nexport const clean = (url: string = window.location.href) =>\n  url.replace(/(\\/#.*|\\/|#.*)$/, '');\n","/**\n * @barba/core/utils/request\n * <br><br>\n * ## Fetch pages for transitions.\n *\n * - Includes timeout\n * - Uses Fetch API\n * - Handles errors\n *\n * @module core/utils/request\n * @preferred\n */\n\n/***/\n\n// Definitions\nimport { RequestError } from '../defs';\n\n/**\n * Init a page request.\n * Fetch the page and returns a promise with the text content.\n */\nfunction request(\n  url: string,\n  ttl: number = 2e3,\n  requestError: RequestError\n): Promise<string> {\n  return new Promise((resolve, reject) => {\n    const xhr = new XMLHttpRequest();\n\n    xhr.onreadystatechange = () => {\n      if (xhr.readyState === XMLHttpRequest.DONE) {\n        if (xhr.status === 200) {\n          resolve(xhr.responseText);\n        } else if (xhr.status) {\n          // HTTP code is not 200, reject with response.\n          const res = {\n            status: xhr.status,\n            statusText: xhr.statusText,\n          };\n          requestError(url, res);\n          reject(res);\n        }\n      }\n    };\n    xhr.ontimeout = () => {\n      const err = new Error(`Timeout error [${ttl}]`);\n      requestError(url, err);\n      reject(err);\n    };\n    xhr.onerror = () => {\n      const err = new Error(`Fetch error`);\n      requestError(url, err);\n      reject(err);\n    };\n\n    xhr.open('GET', url);\n    xhr.timeout = ttl;\n    xhr.setRequestHeader(\n      'Accept',\n      'text/html,application/xhtml+xml,application/xml'\n    );\n    xhr.setRequestHeader('x-barba', 'yes');\n    xhr.send();\n  });\n}\n\nexport { request };\n","module.exports = isPromise;\n\nfunction isPromise(obj) {\n  return !!obj && (typeof obj === 'object' || typeof obj === 'function') && typeof obj.then === 'function';\n}\n","import isPromise from 'is-promise';\n\n// https://github.com/SBoudrias/run-async\n/* istanbul ignore next */\nexport function runAsync(\n  func: (...args: any[]) => void | Promise<any>,\n  ctx: any = {}\n): (...args: any[]) => Promise<any> {\n  return (...args: any[]) => {\n    let async = false;\n\n    const promise = new Promise((resolve, reject) => {\n      // Add async to context\n      ctx.async = () => {\n        async = true;\n\n        return (err: any, value: any) => {\n          if (err) {\n            reject(err);\n          } else {\n            resolve(value);\n          }\n        };\n      };\n\n      const answer = func.apply(ctx, args as []);\n\n      if (!async) {\n        if (isPromise(answer)) {\n          (answer as Promise<any>).then(resolve, reject);\n        } else {\n          resolve(answer);\n        }\n      }\n    });\n\n    return promise;\n  };\n}\n","/**\n * @barba/core/modules/hooks\n * <br><br>\n * ## Hooks manager.\n *\n * - Register and trigger hooks\n *\n * Hooks can be easily registered:\n *\n * ```js\n * hooks.leave(callback, context);\n * ```\n *\n * @module core/modules/hooks\n * @preferred\n */\n\n/***/\n\n// Definitions\nimport { HookFunction, HookMethods, HooksAll } from './defs';\n// Modules\nimport { Logger } from './modules/Logger';\n// Utils\nimport { runAsync } from './utils';\n// Types\ninterface IHookInfos {\n  ctx: any;\n  fn: HookFunction;\n}\n\nexport class Hooks extends HookMethods {\n  /**\n   * Allow the use of `hooks[name](cb, ctx)`.\n   */\n  [key: string]: any;\n  // [key in HooksAll]?: any;\n  public logger: Logger = new Logger('@barba/core');\n  /**\n   * All available hooks.\n   *\n   * See [[HooksAll]]\n   */\n  // TODO: get hooks from defs (DRY)?\n  public all: HooksAll[] = [\n    'ready',\n    'page',\n    'reset',\n    'currentAdded',\n    'currentRemoved',\n    'nextAdded',\n    'nextRemoved',\n    'beforeOnce',\n    'once',\n    'afterOnce',\n    'before',\n    'beforeLeave',\n    'leave',\n    'afterLeave',\n    'beforeEnter',\n    'enter',\n    'afterEnter',\n    'after',\n  ];\n  /**\n   * Registered hooks.\n   *\n   * - Unique hook name\n   * - Associated data set(s) (callback + context)\n   */\n  public registered: Map<HooksAll, Set<IHookInfos>> = new Map();\n\n  constructor() {\n    super();\n    this.init();\n  }\n\n  public init() {\n    this.registered.clear();\n    this.all.forEach(hook => {\n      if (!this[hook]) {\n        this[hook] = (fn: HookFunction, ctx?: any) => {\n          if (!this.registered.has(hook)) {\n            this.registered.set(hook, new Set());\n          }\n          const set = this.registered.get(hook);\n\n          set.add({\n            ctx: ctx || {},\n            fn,\n          });\n        };\n      }\n    });\n  }\n\n  /**\n   * Do hook.\n   *\n   * Trigger registered hooks.\n   */\n  public do(name: HooksAll, ...args: any): Promise<any> {\n    if (this.registered.has(name)) {\n      // Let's start a chain of promises\n      let chain = Promise.resolve();\n\n      this.registered.get(name).forEach(hook => {\n        // Chain async hooks promisified\n        chain = chain.then(() => runAsync(hook.fn, hook.ctx)(...args));\n      });\n\n      return chain.catch(error => {\n        this.logger.debug(`Hook error [${name}]`);\n        this.logger.error(error);\n      });\n    }\n\n    return Promise.resolve();\n  }\n\n  public clear(): void {\n    this.all.forEach(hook => {\n      delete this[hook];\n    });\n\n    this.init();\n  }\n\n  /**\n   * Help, print available and registered hooks.\n   */\n  public help(): void {\n    this.logger.info(`Available hooks: ${this.all.join(',')}`);\n    const registered: string[] = [];\n    this.registered.forEach((value, key) => registered.push(key));\n    this.logger.info(`Registered hooks: ${registered.join(',')}`);\n  }\n}\n\nconst hooks = new Hooks();\n\nexport { hooks };\n","/**\n * @barba/core/modules/ignore\n * <br><br>\n * ## Manage ignore options.\n *\n * - cache\n * - prefetch\n *\n * @module core/modules/ignore\n * @preferred\n */\n\n/***/\n\n// Definitions\nimport { IgnoreOption } from '../defs';\n// Utils\nimport { pathToRegexp } from '../utils/helpers';\nimport { parse } from '../utils/url';\n\nexport class Ignore {\n  private _ignoreAll: boolean;\n  private _ignoreRegexes: RegExp[] = [];\n\n  constructor(ignore: IgnoreOption) {\n    if (typeof ignore === 'boolean') {\n      this._ignoreAll = ignore;\n    } else {\n      const paths = Array.isArray(ignore) ? ignore : [ignore];\n\n      this._ignoreRegexes = paths.map(p => pathToRegexp(p));\n    }\n  }\n\n  public checkHref(href: string): boolean {\n    if (typeof this._ignoreAll === 'boolean') {\n      return this._ignoreAll;\n    }\n\n    const { path } = parse(href);\n\n    return this._ignoreRegexes.some(regex => regex.exec(path) !== null);\n  }\n}\n","/**\n * @barba/core/modules/cache\n * <br><br>\n * ## Cache for storing URL / HTML.\n *\n * @module core/modules/cache\n * @preferred\n */\n\n/***/\n\n// Definitions\nimport { CacheAction, CacheRequest, ICacheData, IgnoreOption } from '../defs';\n// Modules\nimport { Ignore } from './Ignore';\n\nexport class Cache extends Ignore {\n  private _state: Map<string, ICacheData> = new Map();\n\n  constructor(ignore: IgnoreOption) {\n    super(ignore);\n  }\n\n  /**\n   * Set value to cache\n   */\n  public set(\n    href: string,\n    request: CacheRequest,\n    action: CacheAction\n  ): ICacheData {\n    this._state.set(href, {\n      action,\n      request,\n    });\n\n    return {\n      action,\n      request,\n    };\n  }\n\n  /**\n   * Get data from cache\n   */\n  public get(href: string): ICacheData {\n    return this._state.get(href);\n  }\n\n  /**\n   * Get request from cache\n   */\n  public getRequest(href: string): CacheRequest {\n    return this._state.get(href).request;\n  }\n\n  /**\n   * Get action from cache\n   */\n  public getAction(href: string): CacheAction {\n    return this._state.get(href).action;\n  }\n\n  /**\n   * Check if value exists into cache\n   */\n  public has(href: string): boolean {\n    /* istanbul ignore else */\n    if (this.checkHref(href)) {\n      return false;\n    }\n    return this._state.has(href);\n  }\n\n  /**\n   * Delete value from cache\n   */\n  public delete(href: string): boolean {\n    return this._state.delete(href);\n  }\n\n  /**\n   * Update cache value\n   */\n  public update(href: string, data: ICacheData): ICacheData {\n    const state = {\n      ...this._state.get(href),\n      ...data,\n    };\n    this._state.set(href, state);\n\n    return state;\n  }\n}\n","/**\n * @barba/core/modules/prevent\n * <br><br>\n * ## Prevent checks.\n *\n * - Gathers all the tests that allow Barba to work and play transitions\n *\n * @module core/modules/prevent\n * @preferred\n */\n\n/***/\n\n// Definitions\nimport { IgnoreOption, Link, PreventCheck } from '../defs';\n// Schemas\nimport { schemaAttribute } from '../schemas/attribute';\n// Utils\nimport { url } from '../utils';\n// Modules\nimport { Ignore } from './Ignore';\n\n/**\n * Make sure the browser supports `history.pushState`.\n */\nconst pushState: PreventCheck = () => !window.history.pushState;\n\n/**\n * Make sure there is an `el` and `href`.\n */\nconst exists: PreventCheck = ({ el, href }) => !el || !href;\n\n/**\n * If the user is pressing ctrl + click, the browser will open a new tab.\n */\nconst newTab: PreventCheck = ({ event }) =>\n  (event as KeyboardEvent).which > 1 ||\n  (event as KeyboardEvent).metaKey ||\n  (event as KeyboardEvent).ctrlKey ||\n  (event as KeyboardEvent).shiftKey ||\n  (event as KeyboardEvent).altKey;\n\n/**\n * If the link has `_blank` target.\n */\nconst blank: PreventCheck = ({ el }) =>\n  el.hasAttribute('target') && (el as Link).target === '_blank';\n\n/**\n * If the domain is the same (in order to avoid pushState cross origin security problem).\n * Note: SVGAElement do not have `protocol` neither `hostname` properties.\n */\nconst corsDomain: PreventCheck = ({ el }) =>\n  ((el as HTMLAnchorElement).protocol !== undefined &&\n    window.location.protocol !== (el as HTMLAnchorElement).protocol) ||\n  ((el as HTMLAnchorElement).hostname !== undefined &&\n    window.location.hostname !== (el as HTMLAnchorElement).hostname);\n\n/**\n * If the port is the same.\n * Note: SVGAElement do not have `port` property.\n */\nconst corsPort: PreventCheck = ({ el }) =>\n  (el as HTMLAnchorElement).port !== undefined &&\n  url.getPort() !== url.getPort((el as HTMLAnchorElement).href);\n\n/**\n * If the link has download attribute.\n */\nconst download: PreventCheck = ({ el }) =>\n  el.getAttribute && typeof el.getAttribute('download') === 'string';\n\n/**\n * If the links contains [data-barba-prevent] or [data-barba-prevent=\"self\"].\n */\nconst preventSelf: PreventCheck = ({ el }) =>\n  el.hasAttribute(`${schemaAttribute.prefix}-${schemaAttribute.prevent}`);\n\n/**\n * If some link ancestor contains [data-barba-prevent=\"all\"].\n */\nconst preventAll: PreventCheck = ({ el }) =>\n  Boolean(\n    el.closest(`[${schemaAttribute.prefix}-${schemaAttribute.prevent}=\"all\"]`)\n  );\n\n/**\n * If the link is the current URL.\n *\n * > Not in the test suite.\n */\nconst sameUrl: PreventCheck = ({ href }) =>\n  url.clean(href) === url.clean() && url.getPort(href) === url.getPort();\n\nexport class Prevent extends Ignore {\n  public suite: string[] = [];\n  public tests: Map<string, PreventCheck> = new Map();\n\n  constructor(ignore: IgnoreOption) {\n    super(ignore);\n    this.init();\n  }\n\n  public init(): void {\n    // Add defaults\n    this.add('pushState', pushState);\n    this.add('exists', exists);\n    this.add('newTab', newTab);\n    this.add('blank', blank);\n    this.add('corsDomain', corsDomain);\n    this.add('corsPort', corsPort);\n    this.add('download', download);\n    this.add('preventSelf', preventSelf);\n    this.add('preventAll', preventAll);\n\n    // Outside of the test suite\n    this.add('sameUrl', sameUrl, false);\n  }\n\n  public add(name: string, check: PreventCheck, suite: boolean = true): void {\n    this.tests.set(name, check);\n    suite && this.suite.push(name);\n  }\n\n  /**\n   * Run individual test\n   */\n  public run(name: string, el: Link, event: Event, href: string): boolean {\n    return this.tests.get(name)({\n      el,\n      event,\n      href,\n    });\n  }\n\n  /**\n   * Run test suite\n   */\n  public checkLink(el: Link, event: Event, href: string): boolean {\n    return this.suite.some(name => this.run(name, el, event, href));\n  }\n}\n","// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error\nexport class BarbaError extends Error {\n  /* istanbul ignore next */\n  constructor(\n    public error: Error,\n    public label = 'Barba error',\n    ...params: any[]\n  ) {\n    // Pass remaining arguments (including vendor specific ones) to parent constructor\n    super(...params);\n\n    // Maintains proper stack trace for where our error was thrown (only available on V8)\n    /* istanbul ignore else */\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, BarbaError);\n    }\n\n    this.name = 'BarbaError';\n  }\n}\n","/**\n * @barba/core/modules/store\n * <br><br>\n * ## Transitions store.\n *\n * - Resolve transition\n * - Manage rules\n *\n * @module core/modules/store\n * @preferred\n */\n\n/***/\n\n// Definitions\nimport {\n  IRule,\n  IRules,\n  ITransitionData,\n  ITransitionFilters,\n  ITransitionOnce,\n  ITransitionPage,\n  RuleName,\n} from '../defs';\n\n// Modules\nimport { Logger } from './Logger';\n\nexport class Store {\n  public logger: Logger = new Logger('@barba/core');\n  /**\n   * All registered transitions.\n   */\n  public all: ITransitionPage[] = [];\n  /**\n   * \"Page only\" registered transitions.\n   */\n  public page: ITransitionPage[] = [];\n  /**\n   * \"Once only\" registered transitions.\n   */\n  public once: ITransitionOnce[] = [];\n  /**\n   * Rules for transition resolution.\n   *\n   * Defaults:\n   *\n   * - namespace\n   * - custom\n   */\n  private _rules: IRule[] = [\n    {\n      name: 'namespace',\n      type: 'strings',\n    },\n    {\n      name: 'custom',\n      type: 'function',\n    },\n  ];\n\n  /**\n   * Init store.\n   */\n  constructor(transitions: ITransitionPage[] = []) {\n    /* istanbul ignore else */\n    if (transitions) {\n      // TODO: add check for valid transitions? criteria? (once || enter && leave)\n      this.all = this.all.concat(transitions);\n    }\n    this.update();\n  }\n\n  /**\n   * Add rule or transition.\n   */\n  public add(type: 'rule' | 'transition', data: any): void {\n    switch (type) {\n      case 'rule':\n        // TODO: check for valid rule\n        this._rules.splice(data.position || 0, 0, data.value);\n        break;\n      case 'transition':\n      default:\n        // TODO: check for valid transition\n        this.all.push(data);\n        break;\n    }\n\n    this.update();\n  }\n\n  /**\n   * Resolve transition.\n   */\n  public resolve(\n    data: ITransitionData,\n    filters: ITransitionFilters = {}\n  ): ITransitionOnce | ITransitionPage {\n    // Filter on \"once\"\n    let transitions = filters.once ? this.once : this.page;\n\n    // Filter on \"self\"\n    if (filters.self) {\n      transitions = transitions.filter(t => t.name && t.name === 'self');\n    } else {\n      transitions = transitions.filter(t => !t.name || t.name !== 'self');\n    }\n\n    // All matching transition infos\n    const matching = new Map();\n\n    // Active = first of valid transitions\n    // sorted by directions (from/to, from || to, )\n    const active = transitions.find(t => {\n      let valid = true;\n      const match = {};\n\n      if (filters.self && t.name === 'self') {\n        return true;\n      }\n\n      // Check rules\n      this._rules.reverse().forEach(rule => {\n        if (valid) {\n          valid = this._check(t, rule, data, match);\n          // From/to check\n          if (t.from && t.to) {\n            valid =\n              this._check(t, rule, data, match, 'from') &&\n              this._check(t, rule, data, match, 'to');\n          }\n          if (t.from && !t.to) {\n            valid = this._check(t, rule, data, match, 'from');\n          }\n          if (!t.from && t.to) {\n            valid = this._check(t, rule, data, match, 'to');\n          }\n        }\n      });\n\n      matching.set(t, match);\n\n      return valid;\n    });\n\n    const activeMatch = matching.get(active);\n    const transitionType = [];\n    if (filters.once) {\n      transitionType.push('once');\n    } else {\n      transitionType.push('page');\n    }\n    if (filters.self) {\n      transitionType.push('self');\n    }\n\n    if (activeMatch) {\n      // Log resolved transition\n      const infos: any[] = [active];\n      // Log if matching criteria\n      Object.keys(activeMatch).length > 0 && infos.push(activeMatch);\n\n      this.logger.info(\n        `Transition found [${transitionType.join(',')}]`,\n        ...infos\n      );\n    } else {\n      this.logger.info(`No transition found [${transitionType.join(',')}]`);\n    }\n\n    return active;\n  }\n\n  /**\n   * ### Update store.\n   *\n   * - Reorder transition by priorities\n   * - Get wait indicator\n   * - Get once transitions\n   */\n  public update(): void {\n    // Reorder by priorities\n    this.all = this.all\n      .map(t => this._addPriority(t))\n      .sort((a, b) => a.priority - b.priority)\n      .reverse()\n      .map(t => {\n        delete t.priority;\n\n        return t;\n      });\n    this.page = this.all.filter(\n      t => t.leave !== undefined || t.enter !== undefined\n    ) as ITransitionPage[];\n    this.once = this.all.filter(t => t.once !== undefined) as ITransitionOnce[];\n  }\n\n  /**\n   * ### Check if transition apply.\n   *\n   * Based on rule, page data and optional direction:\n   *\n   * 1. transition has no rule \"property\":\n   *    - always returns true\n   * 2. transition has rule \"property\":\n   *     - \"strings\" should be present on both side (transition + page) and match\n   *     - \"function\" should return true\n   */\n  private _check(\n    transition: ITransitionPage,\n    rule: IRule,\n    data: ITransitionData,\n    match: any,\n    direction?: 'from' | 'to'\n  ): boolean {\n    let isValid = true;\n    let hasMatch = false;\n    const t = transition;\n    const { name, type } = rule;\n    const strRule = name as IRules['strings'];\n    const objRule = name as IRules['object'];\n    const fnName = name as IRules['function'];\n    const base = direction ? t[direction] : t; // = t || t.from || t.to\n    const page = direction === 'to' ? data.next : data.current; // = current || next\n    const exist = direction ? base && base[name] : base[name];\n\n    // If transition rule exists\n    if (exist) {\n      switch (type) {\n        case 'strings':\n        default: {\n          // Array support\n          const names: string[] = Array.isArray(base[strRule])\n            ? (base[strRule] as string[])\n            : [base[strRule] as string];\n\n          // For matching, prop should be present on both sides and match\n          if (page[strRule] && names.indexOf(page[strRule]) !== -1) {\n            hasMatch = true;\n          }\n          // If transition prop is different from current, not valid\n          if (names.indexOf(page[strRule]) === -1) {\n            isValid = false;\n          }\n          break;\n        }\n\n        case 'object': {\n          // Array support\n          const names: string[] = Array.isArray(base[objRule])\n            ? (base[objRule] as string[])\n            : [base[objRule] as string];\n\n          // For matching, prop should be present on both sides and match\n          if (page[objRule]) {\n            if (\n              page[objRule].name &&\n              names.indexOf(page[objRule].name) !== -1\n            ) {\n              hasMatch = true;\n            }\n            // If transition prop is different from current, not valid\n            if (names.indexOf(page[objRule].name) === -1) {\n              isValid = false;\n            }\n          } else {\n            isValid = false;\n          }\n          break;\n        }\n\n        case 'function':\n          if (base[fnName](data)) {\n            hasMatch = true;\n          } else {\n            isValid = false;\n          }\n          break;\n      }\n\n      if (hasMatch) {\n        if (direction) {\n          match[direction] = match[direction] || {};\n          match[direction][name] = t[direction][name];\n        } else {\n          match[name] = t[name];\n        }\n      }\n    }\n\n    return isValid;\n  }\n\n  /**\n   * ### Calculate transition priority.\n   *\n   * Based on:\n   *\n   * - rule \"position\" (index) give tens, hundreds, thousands, \n   * - from/to properties give units (0, 1 or 2)\n   */\n  private _calculatePriority(\n    t: ITransitionPage,\n    ruleName: RuleName,\n    ruleIndex: number\n  ): number {\n    let priority = 0;\n\n    if (\n      t[ruleName] ||\n      (t.from && t.from[ruleName]) ||\n      (t.to && t.to[ruleName])\n    ) {\n      priority += Math.pow(10, ruleIndex);\n\n      if (t.from && t.from[ruleName]) {\n        priority += 1;\n      }\n      if (t.to && t.to[ruleName]) {\n        priority += 2;\n      }\n    }\n\n    return priority;\n  }\n\n  private _addPriority(t: ITransitionPage): ITransitionPage {\n    t.priority = 0;\n    let priority = 0;\n\n    this._rules.forEach((rule, i) => {\n      const { name } = rule;\n      const index = i + 1;\n\n      priority += this._calculatePriority(t, name, index);\n    });\n\n    t.priority = priority;\n\n    return t;\n  }\n}\n","/**\n * @barba/core/modules/transitions\n * <br><br>\n * ## Transitions manager.\n *\n * - Handle hooks and transition lifecycle\n *\n * @module core/modules/transitions\n * @preferred\n */\n\n/***/\n\n// Definitions\nimport {\n  HooksTransition,\n  HooksTransitionMap,\n  ITransitionData,\n  ITransitionFilters,\n  ITransitionOnce,\n  ITransitionPage,\n  Wrapper,\n} from '../defs';\n// Hooks\nimport { hooks } from '../hooks';\n// Utils\nimport { dom, helpers, runAsync } from '../utils';\n// Modules\nimport { BarbaError } from './Error';\nimport { Logger } from './Logger';\nimport { Store } from './Store';\n\nexport class Transitions {\n  public logger: Logger = new Logger('@barba/core');\n  public store: Store;\n  private _running: boolean = false;\n\n  constructor(transitions: ITransitionPage[] = []) {\n    this.store = new Store(transitions);\n  }\n\n  /**\n   * Get resolved transition\n   *\n   * - based on data\n   */\n  public get(\n    data: ITransitionData,\n    filters?: ITransitionFilters\n  ): ITransitionOnce | ITransitionPage {\n    return this.store.resolve(data, filters);\n  }\n\n  /**\n   * Animation running status.\n   */\n  get isRunning(): boolean {\n    return this._running;\n  }\n  set isRunning(status: boolean) {\n    this._running = status;\n  }\n\n  /**\n   * Check for registered once transition(s).\n   */\n  get hasOnce(): boolean {\n    return this.store.once.length > 0;\n  }\n\n  /**\n   * Check for registered self transition.\n   */\n  get hasSelf(): boolean {\n    return this.store.all.some(t => t.name === 'self');\n  }\n\n  /**\n   * ### Wait indicator.\n   *\n   * Tells Barba to get next page data<br>\n   * before starting the resolution<br>\n   * because some registered transitions need<br>\n   * next page data to be resolved (eg: `sync: true`, `to: { namespace }`, )\n   */\n  get shouldWait(): boolean {\n    return this.store.all.some(t => (t.to && !t.to.route) || t.sync);\n  }\n\n  /**\n   * ### Do \"once\" transition.\n   *\n   * Hooks: see [[HooksOnce]].\n   */\n  public async doOnce({\n    data,\n    transition,\n  }: {\n    data: ITransitionData;\n    transition: ITransitionOnce;\n  }) {\n    const t = transition || {};\n    this._running = true;\n\n    try {\n      await this._doAsyncHook('beforeOnce', data, t);\n      await this.once(data, t);\n      await this._doAsyncHook('afterOnce', data, t);\n    } catch (error) {\n      this._running = false;\n\n      this.logger.debug('Transition error [before/after/once]');\n      this.logger.error(error);\n    }\n\n    this._running = false;\n  }\n\n  /**\n   * ### Do \"page\" transition.\n   *\n   * Hooks: see [[HooksPage]].\n   *\n   * `sync: false` (default) order:\n   *\n   * 1. before\n   * 2. beforeLeave\n   * 3. leave\n   * 4. afterLeave\n   * 5. beforeEnter\n   * 6. enter\n   * 7. afterEnter\n   * 8. after\n   *\n   * `sync: true` order:\n   *\n   * 1. before\n   * 2. beforeLeave\n   * 3. beforeEnter\n   * 4. leave & enter\n   * 5. afterLeave\n   * 6. afterEnter\n   * 7. after\n   */\n  public async doPage({\n    data,\n    transition,\n    page,\n    wrapper,\n  }: {\n    data: ITransitionData;\n    transition: ITransitionPage;\n    page: Promise<string | void>;\n    wrapper: Wrapper;\n  }) {\n    const t = transition || {};\n    const sync = t.sync === true || false;\n\n    this._running = true;\n\n    try {\n      // Check sync mode, wait for next content\n      if (sync) {\n        await helpers.update(page, data);\n      }\n\n      await this._doAsyncHook('before', data, t);\n\n      if (sync) {\n        try {\n          await this.add(data, wrapper);\n          // Before actions\n          await this._doAsyncHook('beforeLeave', data, t);\n          await this._doAsyncHook('beforeEnter', data, t);\n\n          // Actions\n          await Promise.all([this.leave(data, t), this.enter(data, t)]);\n\n          // After actions\n          await this._doAsyncHook('afterLeave', data, t);\n          await this._doAsyncHook('afterEnter', data, t);\n        } catch (error) {\n          // this.logger.debug('Transition error [sync]');\n          // this.logger.error(error);\n          if (this._isTransitionError(error)) {\n            throw new BarbaError(error, 'Transition error [sync]');\n          }\n        }\n      } else {\n        let leaveResult: any = false;\n\n        try {\n          // Leave\n          await this._doAsyncHook('beforeLeave', data, t);\n\n          leaveResult = await Promise.all([\n            this.leave(data, t),\n            helpers.update(page, data),\n          ]).then(values => values[0]);\n\n          await this._doAsyncHook('afterLeave', data, t);\n\n          // TODO: check here \"valid\" page result\n          // before going further\n        } catch (error) {\n          // this.logger.debug('Transition error [before/after/leave]');\n          // this.logger.error(error);\n          if (this._isTransitionError(error)) {\n            throw new BarbaError(\n              error,\n              'Transition error [before/after/leave]'\n            );\n          }\n        }\n\n        try {\n          // Enter\n          /* istanbul ignore else */\n          if (leaveResult !== false) {\n            await this.add(data, wrapper);\n\n            await this._doAsyncHook('beforeEnter', data, t);\n            await this.enter(data, t, leaveResult);\n            await this._doAsyncHook('afterEnter', data, t);\n          }\n        } catch (error) {\n          // this.logger.debug('Transition error [before/after/enter]');\n          // this.logger.error(error);\n          if (this._isTransitionError(error)) {\n            throw new BarbaError(\n              error,\n              'Transition error [before/after/enter]'\n            );\n          }\n        }\n      }\n\n      // Remove current contaienr\n      await this.remove(data);\n\n      await this._doAsyncHook('after', data, t);\n    } catch (error) {\n      this._running = false;\n\n      // If \"custom/specific\" barba error.\n      /* istanbul ignore else */\n      if (error.name && error.name === 'BarbaError') {\n        this.logger.debug(error.label);\n        this.logger.error(error.error);\n\n        throw error;\n      }\n\n      this.logger.debug('Transition error [page]');\n      this.logger.error(error);\n\n      throw error;\n    }\n\n    this._running = false;\n  }\n\n  /**\n   * Once hook + async \"once\" transition.\n   */\n  public async once(data: ITransitionData, t: ITransitionOnce): Promise<void> {\n    await hooks.do('once', data, t);\n\n    return t.once ? runAsync(t.once, t)(data) : Promise.resolve();\n  }\n\n  /**\n   * Leave hook + async \"leave\" transition.\n   */\n  public async leave(data: ITransitionData, t: ITransitionPage): Promise<any> {\n    await hooks.do('leave', data, t);\n\n    return t.leave ? runAsync(t.leave, t)(data) : Promise.resolve();\n  }\n\n  /**\n   * Enter hook + async \"enter\" transition.\n   */\n  public async enter(\n    data: ITransitionData,\n    t: ITransitionPage,\n    leaveResult?: any\n  ): Promise<void> {\n    await hooks.do('enter', data, t);\n\n    return t.enter\n      ? runAsync(t.enter, t)(data, leaveResult)\n      : Promise.resolve();\n  }\n\n  /**\n   * Add next container.\n   */\n  public async add(data: ITransitionData, wrapper: Wrapper): Promise<void> {\n    dom.addContainer(data.next.container, wrapper);\n    hooks.do('nextAdded', data);\n  }\n\n  /**\n   * Remove current container.\n   */\n  public async remove(data: ITransitionData): Promise<void> {\n    dom.removeContainer(data.current.container);\n    hooks.do('currentRemoved', data);\n  }\n\n  private _isTransitionError(error: any) {\n    if (error.message) {\n      // Errors from request\n      return !/Timeout error|Fetch error/.test(error.message);\n    }\n\n    if (error.status) {\n      // Errors from request\n      return false;\n    }\n\n    return true;\n  }\n\n  /**\n   * Do hooks + async transition methods.\n   */\n  private async _doAsyncHook(\n    hook: HooksTransition,\n    data: ITransitionData,\n    t: HooksTransitionMap\n  ): Promise<void> {\n    await hooks.do(hook, data, t);\n\n    return t[hook] ? runAsync(t[hook], t)(data) : Promise.resolve();\n  }\n}\n","/**\n * @barba/core/modules/views\n * <br><br>\n * ## Views manager.\n *\n * @module core/modules/views\n * @preferred\n */\n\n/***/\n\n// Definitions\nimport { HooksView, IView, IViewData } from '../defs';\n// Hooks\nimport { hooks } from '../hooks';\n// Utils\nimport { runAsync } from '../utils';\n// Types\ntype Hook = (data: IViewData) => Promise<void>;\n\nexport class Views {\n  /**\n   * Available hook names for views.\n   */\n  public names: HooksView[] = [\n    'beforeLeave',\n    'afterLeave',\n    'beforeEnter',\n    'afterEnter',\n  ];\n  /**\n   * Registered views by namespace.\n   */\n  public byNamespace: Map<string, IView> = new Map();\n\n  /**\n   * Init views.\n   */\n  constructor(views: IView[]) {\n    if (views.length === 0) {\n      return;\n    }\n\n    // TODO: add check\n    // for valid views? criteria? (namespace property, string ?)\n    // or duplicate\n    views.forEach(view => {\n      this.byNamespace.set(view.namespace, view);\n    });\n\n    this.names.forEach(name => {\n      hooks[name](this._createHook(name));\n    });\n  }\n\n  /**\n   * Create the hook method.\n   *\n   * - get view based on namespace\n   * - execute callback with transition data\n   */\n  private _createHook(name: HooksView): Hook {\n    return data => {\n      const { namespace } = name.match(/enter/i) ? data.next : data.current;\n      const view = this.byNamespace.get(namespace);\n\n      // TODO: manage self\n      // if (view && data.trigger !== 'self') {\n      if (view && view[name]) {\n        return runAsync(view[name], view)(data);\n      }\n\n      return Promise.resolve();\n    };\n  }\n}\n","// Element.prototype.matches polyfill\n// https://developer.mozilla.org/en-US/docs/Web/API/Element/matches#Polyfill\nif (!Element.prototype.matches) {\n  Element.prototype.matches =\n    (Element as any).prototype.msMatchesSelector ||\n    Element.prototype.webkitMatchesSelector;\n}\n\n// Element.prototype.closest polyfill\n// https://developer.mozilla.org/en-US/docs/Web/API/Element/closest#Polyfill\nif (!Element.prototype.closest) {\n  Element.prototype.closest = function closest(s: string) {\n    let el = this;\n\n    do {\n      if (el.matches(s)) {\n        return el;\n      }\n\n      el = (el.parentElement || el.parentNode) as Element;\n    } while (el !== null && el.nodeType === 1);\n\n    return null;\n  };\n}\n","/**\n * @module core/schemas\n */\n\n// Definitions\nimport { ISchemaPage } from '../defs';\n\n/**\n * See [[ISchemaPage]]\n */\nexport const schemaPage: ISchemaPage = {\n  container: null,\n  html: '',\n  namespace: '',\n  url: {\n    hash: '',\n    href: '',\n    path: '',\n    port: null,\n    query: {},\n  },\n};\n","/**\n * @barba/core\n * <br><br>\n * ## Barba core object\n *\n * Main methods:\n *\n * - `.init()` for initialization with options\n * - `.use()` for plugins\n *\n * @module core\n */\n\n/***/\n\nimport { version } from '../package.json';\n// Definitions\nimport {\n  IBarbaOptions,\n  IBarbaPlugin,\n  IgnoreOption,\n  ISchemaPage,\n  ITransitionData,\n  ITransitionOnce,\n  ITransitionPage,\n  Link,\n  LinkEvent,\n  RequestCustomError,\n  RequestErrorOrResponse,\n  SchemaAttributeValues,\n  Trigger,\n  Wrapper,\n} from './defs';\n// Hooks\nimport { hooks } from './hooks';\n// Modules\nimport { Cache } from './modules/Cache';\nimport { Logger } from './modules/Logger';\nimport { Prevent } from './modules/Prevent';\nimport { Transitions } from './modules/Transitions';\nimport { Views } from './modules/Views';\n// Polyfills\nimport './polyfills';\n// Schemas\nimport { schemaAttribute } from './schemas/attribute';\nimport { schemaPage } from './schemas/page';\n// Utils\nimport { dom, helpers, history, request, url } from './utils';\n\nexport class Core {\n  /**\n   * Version.\n   */\n  public version: string = version;\n  /**\n   * Schemas.\n   */\n  public schemaPage: ISchemaPage = schemaPage;\n  /**\n   * Logger class, allows plugins to create Logger.\n   */\n  public Logger: typeof Logger = Logger;\n  /**\n   * Barba logger.\n   */\n  public logger: Logger = new Logger('@barba/core');\n  /**\n   * Plugins.\n   */\n  public plugins: Array<IBarbaPlugin<any>> = [];\n  /**\n   * Options\n   */\n  public timeout: number;\n  public cacheIgnore: IgnoreOption;\n  public prefetchIgnore: IgnoreOption;\n  public preventRunning: boolean;\n  /**\n   * Hooks\n   */\n  public hooks = hooks;\n  /**\n   * Modules.\n   */\n  // public history: History;\n  public cache: Cache;\n  public prevent: Prevent;\n  public transitions: Transitions;\n  public views: Views;\n  /**\n   * Utils.\n   */\n  public dom = dom;\n  public helpers = helpers;\n  public history = history;\n  public request = request;\n  public url = url;\n\n  private _data: ITransitionData;\n  private _requestCustomError: RequestCustomError;\n  private _wrapper: Wrapper;\n\n  /**\n   * ### Init plugin with options.\n   *\n   * See [[IBarbaPlugin]] for more details.\n   */\n  public use<T>(plugin: IBarbaPlugin<T>, options?: T): void {\n    const installedPlugins = this.plugins;\n\n    // Plugin installation\n    if (installedPlugins.indexOf(plugin) > -1) {\n      this.logger.warn(`Plugin [${plugin.name}] already installed.`);\n\n      return;\n    }\n\n    if (typeof plugin.install !== 'function') {\n      this.logger.warn(`Plugin [${plugin.name}] has no \"install\" method.`);\n\n      return;\n    }\n\n    plugin.install(this, options);\n    installedPlugins.push(plugin);\n  }\n\n  /**\n   * ### Init barba with options.\n   *\n   * See [[IBarbaOptions]] for more details.\n   *\n   * Default values are:\n   *\n   * - transitions: `[]`\n   * - views: `[]`\n   * - schema: [[SchemaAttribute]]\n   * - timeout: `2e3`\n   * - cacheIgnore: `false`\n   * - prefetchIgnore: `false`\n   * - preventRunning: `false`\n   * - prevent: `null`,\n   * - debug: `false`\n   * - logLevel: `'debug'`\n   */\n  public init(\n    /** @ignore */ {\n      transitions = [],\n      views = [],\n      schema = schemaAttribute,\n      requestError,\n      timeout = 2e3,\n      cacheIgnore = false,\n      prefetchIgnore = false,\n      /* istanbul ignore next */\n      preventRunning = false,\n      prevent: preventCustom = null,\n      debug = false,\n      logLevel = 'off',\n    }: IBarbaOptions = {}\n  ) {\n    // 0. Set logger level and print version\n    Logger.setLevel(debug === true ? 'debug' : logLevel);\n    this.logger.info(this.version);\n\n    // 1. Manage options\n    Object.keys(schema).forEach(k => {\n      const attr = k as SchemaAttributeValues;\n\n      /* istanbul ignore else */\n      if (schemaAttribute[attr]) {\n        schemaAttribute[attr] = schema[attr];\n      }\n    });\n    this._requestCustomError = requestError;\n    this.timeout = timeout;\n    this.cacheIgnore = cacheIgnore;\n    this.prefetchIgnore = prefetchIgnore;\n    this.preventRunning = preventRunning;\n\n    // 2. Get and check wrapper\n    this._wrapper = this.dom.getWrapper();\n    if (!this._wrapper) {\n      throw new Error('[@barba/core] No Barba wrapper found');\n    }\n    this._wrapper.setAttribute('aria-live', 'polite'); // A11y\n\n    // 3. Init pages (get \"current\" data)\n    this._resetData();\n\n    const { current } = this.data;\n\n    if (!current.container) {\n      throw new Error('[@barba/core] No Barba container found');\n    }\n\n    // 4. Init other modules\n    this.cache = new Cache(cacheIgnore);\n    this.prevent = new Prevent(prefetchIgnore);\n    this.transitions = new Transitions(transitions);\n    this.views = new Views(views);\n\n    // Add prevent custom\n    if (preventCustom !== null) {\n      if (typeof preventCustom !== 'function') {\n        throw new Error('[@barba/core] Prevent should be a function');\n      }\n\n      this.prevent.add('preventCustom', preventCustom);\n    }\n\n    // 5. Use \"current\" data\n    // Init history\n    this.history.init(current.url.href, current.namespace);\n    // Add to cache\n    // TODO: do not cache renderer HTML, only request results\n    // this.cache.set(current.url.href, Promise.resolve(current.html), 'init');\n\n    // 6. Bind context\n    this._onLinkEnter = this._onLinkEnter.bind(this);\n    this._onLinkClick = this._onLinkClick.bind(this);\n    this._onStateChange = this._onStateChange.bind(this);\n    this._bind();\n\n    // 7. Init plugins\n    this.plugins.forEach(plugin => plugin.init());\n\n    // 8. Barba ready\n    // Set next + trigger for once and `beforeEnter`/`afterEnter` view on page load.\n    const onceData = this.data;\n\n    onceData.trigger = 'barba';\n    onceData.next = onceData.current;\n    onceData.current = { ...this.schemaPage };\n    this.hooks.do('ready', onceData);\n\n    // 9. Finally, do once\n    this.once(onceData);\n\n    // Clean data for first barba transition\n    this._resetData();\n  }\n\n  public destroy(): void {\n    this._resetData();\n    this._unbind();\n    this.history.clear();\n    this.hooks.clear();\n    this.plugins = [];\n  }\n\n  get data(): ITransitionData {\n    return this._data;\n  }\n\n  get wrapper(): HTMLElement {\n    return this._wrapper;\n  }\n\n  /**\n   * ### Force a page change without Barba transition.\n   */\n  public force(href: string): void {\n    // DEV\n    // Can be used waiting animation cancellation management\n    window.location.assign(href);\n  }\n\n  /**\n   * ### Go for a Barba transition.\n   *\n   * Manage \"self page\" href:\n   *\n   * - if same url and no self transition, keep default behavior\n   *   - link: reload the page\n   *   - anchor: scroll to\n   * - if same url with self transition, use it\n   * - then start a page transition.\n   */\n  public go(\n    href: string,\n    trigger: Trigger = 'barba',\n    e?: LinkEvent | PopStateEvent\n  ): Promise<void> {\n    // If animation running, force reload\n    if (this.transitions.isRunning) {\n      this.force(href);\n\n      return;\n    }\n\n    let self = false;\n\n    // Check prevent sameURL against current history\n    // + state check\n    // + update trigger with direction\n    if (trigger === 'popstate') {\n      self =\n        this.history.current &&\n        this.url.getPath(this.history.current.url) === this.url.getPath(href);\n    } else {\n      self = this.prevent.run('sameUrl', null, null, href);\n    }\n\n    if (self && !this.transitions.hasSelf) {\n      return;\n    }\n\n    trigger = this.history.change(href, trigger, e);\n\n    if (e) {\n      e.stopPropagation();\n      e.preventDefault();\n    }\n\n    return this.page(href, trigger, self);\n  }\n\n  /**\n   * ### Start an \"once\" transition.\n   *\n   * If some registered \"once\" transition,\n   * get the \"resolved\" transition from the store and start it.\n   */\n  public async once(readyData: ITransitionData): Promise<void> {\n    await this.hooks.do('beforeEnter', readyData);\n\n    // Check if once transition\n    if (this.transitions.hasOnce) {\n      const transition = this.transitions.get(readyData, {\n        once: true,\n      }) as ITransitionOnce;\n\n      await this.transitions.doOnce({ transition, data: readyData });\n    }\n\n    await this.hooks.do('afterEnter', readyData);\n  }\n\n  /**\n   * ### Start a \"page\" transition.\n   *\n   * 1. If no running transition, updates data with full URL properties and trigger.\n   * 2. Get page from cache or init request.\n   * 3. Wait if some transitions need \"next\" data (`sync: true`, `to: `).\n   * 4. Manage the history, depending on trigger.\n   * 5. Get \"data\" and trigger \"go\" hook.\n   * 6. Get the \"resolved\" transition from the store and start it.\n   * 7. Update title and reset data (current, next = undefined).\n   *\n   * > If \"self\", use the \"self\" transition\n   */\n  public async page(\n    href: string,\n    trigger: Trigger,\n    self: boolean\n  ): Promise<void> {\n    this.data.next.url = {\n      href,\n      ...this.url.parse(href),\n    };\n    this.data.trigger = trigger;\n\n    const page = this.cache.has(href)\n      ? this.cache.update(href, { action: 'click' }).request\n      : this.cache.set(\n          href,\n          this.request(\n            href,\n            this.timeout,\n            this.onRequestError.bind(this, trigger)\n          ),\n          'click'\n        ).request;\n\n    // Need to wait before getting the right transition\n    if (this.transitions.shouldWait) {\n      await helpers.update(page, this.data);\n    }\n\n    const data = this.data;\n\n    // Hook: between trigger and transition\n    // Can be used to resolve \"route\"\n    await this.hooks.do('page', data);\n\n    try {\n      const transition = this.transitions.get(data, {\n        once: false,\n        self,\n      }) as ITransitionPage;\n\n      await this.transitions.doPage({\n        data,\n        page,\n        transition,\n        wrapper: this._wrapper,\n      });\n\n      this._resetData();\n    } catch (error) {\n      // Something went wrong (rejected promise, error, 404, 505, other)\n      // TODO: manage / use cases for cancellation\n      // this.logger.debug('Transition cancelled');\n\n      // If transition error and no debug mode, force reload page.\n      /* istanbul ignore else */\n      if (Logger.getLevel() === 0) {\n        this.force(data.current.url.href);\n      }\n    }\n  }\n\n  /**\n   * When a request error occurs.\n   *\n   * Allow the user to manage request error. (E.g: 404)\n   */\n  public onRequestError(trigger: Trigger, ...args: any): boolean {\n    // Cancel transition status\n    this.transitions.isRunning = false;\n\n    const [href, response]: [string, RequestErrorOrResponse] = args;\n    const action = this.cache.getAction(href);\n    this.cache.delete(href);\n\n    // Custom requestError returning false will return here.\n    if (\n      this._requestCustomError &&\n      this._requestCustomError(trigger, action, href, response) === false\n    ) {\n      return false;\n    }\n\n    // Force page change\n    if (action === 'click') {\n      this.force(href);\n    }\n    return false;\n  }\n\n  /**\n   * Programmatically prefetch\n   */\n  public prefetch(href: string) {\n    // Already in cache\n    /* istanbul ignore next */\n    if (this.cache.has(href)) {\n      return;\n    }\n\n    this.cache.set(\n      href,\n      this.request(\n        href,\n        this.timeout,\n        this.onRequestError.bind(this, 'barba')\n      ).catch((error: RequestErrorOrResponse) => {\n        this.logger.error(error);\n      }),\n      'prefetch'\n    );\n  }\n\n  /**\n   * Bind event listeners.\n   */\n  private _bind(): void {\n    /* istanbul ignore else */\n    if (this.prefetchIgnore !== true) {\n      document.addEventListener('mouseover', this._onLinkEnter);\n      document.addEventListener('touchstart', this._onLinkEnter);\n    }\n    document.addEventListener('click', this._onLinkClick);\n    window.addEventListener('popstate', this._onStateChange);\n  }\n\n  /**\n   * Bind event listeners.\n   */\n  private _unbind(): void {\n    /* istanbul ignore else */\n    if (this.prefetchIgnore !== true) {\n      document.removeEventListener('mouseover', this._onLinkEnter);\n      document.removeEventListener('touchstart', this._onLinkEnter);\n    }\n    document.removeEventListener('click', this._onLinkClick);\n    window.removeEventListener('popstate', this._onStateChange);\n  }\n\n  /**\n   * When a element is entered.\n   *\n   * Get valid link element.\n   * Cache URL if needed.\n   */\n  private _onLinkEnter(e: LinkEvent): void {\n    const link = this._getLinkElement(e);\n\n    if (!link) {\n      return;\n    }\n\n    const href = this.dom.getHref(link);\n\n    if (this.prevent.checkHref(href)) {\n      return;\n    }\n\n    // Already in cache\n    if (this.cache.has(href)) {\n      return;\n    }\n\n    this.cache.set(\n      href,\n      this.request(\n        href,\n        this.timeout,\n        this.onRequestError.bind(this, link)\n      ).catch((error: RequestErrorOrResponse) => {\n        this.logger.error(error);\n      }),\n      'enter'\n    );\n  }\n\n  /**\n   * When an element is clicked.\n   *\n   * Get valid link element.\n   * Prevent same URL.\n   * Go for a Barba transition.\n   */\n  private _onLinkClick(e: LinkEvent): void {\n    // This use `prevent.checkLink` under the hood to get eligible link.\n    const link = this._getLinkElement(e);\n\n    if (!link) {\n      return;\n    }\n\n    if (this.transitions.isRunning && this.preventRunning) {\n      e.preventDefault();\n      e.stopPropagation();\n\n      return;\n    }\n\n    this.go(this.dom.getHref(link), link, e);\n  }\n\n  /**\n   * When History state changes.\n   *\n   * Get \"href\" from URL\n   * Go for a Barba transition.\n   */\n  private _onStateChange(e: PopStateEvent): void {\n    this.go(this.url.getHref(), 'popstate', e);\n  }\n\n  /**\n   * Get a valid link ancestor.\n   *\n   * Check for a \"href\" attribute.\n   * Then check if eligible for Barba.\n   */\n  private _getLinkElement(e: LinkEvent): Link {\n    let el = e.target as Link;\n\n    while (el && !this.dom.getHref(el)) {\n      el = (el as HTMLElement).parentNode as Link;\n    }\n\n    // Check prevent\n    if (!el || this.prevent.checkLink(el, e, this.dom.getHref(el))) {\n      return;\n    }\n\n    return el;\n  }\n\n  /**\n   * Reset pages data.\n   *\n   * Set \"current\" and unset \"next\".\n   */\n  private _resetData() {\n    const href = this.url.getHref();\n    const current = {\n      container: this.dom.getContainer(),\n      html: this.dom.getHtml(),\n      namespace: this.dom.getNamespace(),\n      url: {\n        href,\n        ...this.url.parse(href),\n      },\n    };\n\n    this._data = {\n      current,\n      next: { ...this.schemaPage },\n      trigger: undefined,\n    };\n\n    this.hooks.do('reset', this.data);\n  }\n}\n\nconst core = new Core();\n\nexport default core;\n","/*\n * anime.js v3.2.1\n * (c) 2020 Julian Garnier\n * Released under the MIT license\n * animejs.com\n */\n\n// Defaults\n\nvar defaultInstanceSettings = {\n  update: null,\n  begin: null,\n  loopBegin: null,\n  changeBegin: null,\n  change: null,\n  changeComplete: null,\n  loopComplete: null,\n  complete: null,\n  loop: 1,\n  direction: 'normal',\n  autoplay: true,\n  timelineOffset: 0\n};\n\nvar defaultTweenSettings = {\n  duration: 1000,\n  delay: 0,\n  endDelay: 0,\n  easing: 'easeOutElastic(1, .5)',\n  round: 0\n};\n\nvar validTransforms = ['translateX', 'translateY', 'translateZ', 'rotate', 'rotateX', 'rotateY', 'rotateZ', 'scale', 'scaleX', 'scaleY', 'scaleZ', 'skew', 'skewX', 'skewY', 'perspective', 'matrix', 'matrix3d'];\n\n// Caching\n\nvar cache = {\n  CSS: {},\n  springs: {}\n};\n\n// Utils\n\nfunction minMax(val, min, max) {\n  return Math.min(Math.max(val, min), max);\n}\n\nfunction stringContains(str, text) {\n  return str.indexOf(text) > -1;\n}\n\nfunction applyArguments(func, args) {\n  return func.apply(null, args);\n}\n\nvar is = {\n  arr: function (a) { return Array.isArray(a); },\n  obj: function (a) { return stringContains(Object.prototype.toString.call(a), 'Object'); },\n  pth: function (a) { return is.obj(a) && a.hasOwnProperty('totalLength'); },\n  svg: function (a) { return a instanceof SVGElement; },\n  inp: function (a) { return a instanceof HTMLInputElement; },\n  dom: function (a) { return a.nodeType || is.svg(a); },\n  str: function (a) { return typeof a === 'string'; },\n  fnc: function (a) { return typeof a === 'function'; },\n  und: function (a) { return typeof a === 'undefined'; },\n  nil: function (a) { return is.und(a) || a === null; },\n  hex: function (a) { return /(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(a); },\n  rgb: function (a) { return /^rgb/.test(a); },\n  hsl: function (a) { return /^hsl/.test(a); },\n  col: function (a) { return (is.hex(a) || is.rgb(a) || is.hsl(a)); },\n  key: function (a) { return !defaultInstanceSettings.hasOwnProperty(a) && !defaultTweenSettings.hasOwnProperty(a) && a !== 'targets' && a !== 'keyframes'; },\n};\n\n// Easings\n\nfunction parseEasingParameters(string) {\n  var match = /\\(([^)]+)\\)/.exec(string);\n  return match ? match[1].split(',').map(function (p) { return parseFloat(p); }) : [];\n}\n\n// Spring solver inspired by Webkit Copyright  2016 Apple Inc. All rights reserved. https://webkit.org/demos/spring/spring.js\n\nfunction spring(string, duration) {\n\n  var params = parseEasingParameters(string);\n  var mass = minMax(is.und(params[0]) ? 1 : params[0], .1, 100);\n  var stiffness = minMax(is.und(params[1]) ? 100 : params[1], .1, 100);\n  var damping = minMax(is.und(params[2]) ? 10 : params[2], .1, 100);\n  var velocity =  minMax(is.und(params[3]) ? 0 : params[3], .1, 100);\n  var w0 = Math.sqrt(stiffness / mass);\n  var zeta = damping / (2 * Math.sqrt(stiffness * mass));\n  var wd = zeta < 1 ? w0 * Math.sqrt(1 - zeta * zeta) : 0;\n  var a = 1;\n  var b = zeta < 1 ? (zeta * w0 + -velocity) / wd : -velocity + w0;\n\n  function solver(t) {\n    var progress = duration ? (duration * t) / 1000 : t;\n    if (zeta < 1) {\n      progress = Math.exp(-progress * zeta * w0) * (a * Math.cos(wd * progress) + b * Math.sin(wd * progress));\n    } else {\n      progress = (a + b * progress) * Math.exp(-progress * w0);\n    }\n    if (t === 0 || t === 1) { return t; }\n    return 1 - progress;\n  }\n\n  function getDuration() {\n    var cached = cache.springs[string];\n    if (cached) { return cached; }\n    var frame = 1/6;\n    var elapsed = 0;\n    var rest = 0;\n    while(true) {\n      elapsed += frame;\n      if (solver(elapsed) === 1) {\n        rest++;\n        if (rest >= 16) { break; }\n      } else {\n        rest = 0;\n      }\n    }\n    var duration = elapsed * frame * 1000;\n    cache.springs[string] = duration;\n    return duration;\n  }\n\n  return duration ? solver : getDuration;\n\n}\n\n// Basic steps easing implementation https://developer.mozilla.org/fr/docs/Web/CSS/transition-timing-function\n\nfunction steps(steps) {\n  if ( steps === void 0 ) steps = 10;\n\n  return function (t) { return Math.ceil((minMax(t, 0.000001, 1)) * steps) * (1 / steps); };\n}\n\n// BezierEasing https://github.com/gre/bezier-easing\n\nvar bezier = (function () {\n\n  var kSplineTableSize = 11;\n  var kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);\n\n  function A(aA1, aA2) { return 1.0 - 3.0 * aA2 + 3.0 * aA1 }\n  function B(aA1, aA2) { return 3.0 * aA2 - 6.0 * aA1 }\n  function C(aA1)      { return 3.0 * aA1 }\n\n  function calcBezier(aT, aA1, aA2) { return ((A(aA1, aA2) * aT + B(aA1, aA2)) * aT + C(aA1)) * aT }\n  function getSlope(aT, aA1, aA2) { return 3.0 * A(aA1, aA2) * aT * aT + 2.0 * B(aA1, aA2) * aT + C(aA1) }\n\n  function binarySubdivide(aX, aA, aB, mX1, mX2) {\n    var currentX, currentT, i = 0;\n    do {\n      currentT = aA + (aB - aA) / 2.0;\n      currentX = calcBezier(currentT, mX1, mX2) - aX;\n      if (currentX > 0.0) { aB = currentT; } else { aA = currentT; }\n    } while (Math.abs(currentX) > 0.0000001 && ++i < 10);\n    return currentT;\n  }\n\n  function newtonRaphsonIterate(aX, aGuessT, mX1, mX2) {\n    for (var i = 0; i < 4; ++i) {\n      var currentSlope = getSlope(aGuessT, mX1, mX2);\n      if (currentSlope === 0.0) { return aGuessT; }\n      var currentX = calcBezier(aGuessT, mX1, mX2) - aX;\n      aGuessT -= currentX / currentSlope;\n    }\n    return aGuessT;\n  }\n\n  function bezier(mX1, mY1, mX2, mY2) {\n\n    if (!(0 <= mX1 && mX1 <= 1 && 0 <= mX2 && mX2 <= 1)) { return; }\n    var sampleValues = new Float32Array(kSplineTableSize);\n\n    if (mX1 !== mY1 || mX2 !== mY2) {\n      for (var i = 0; i < kSplineTableSize; ++i) {\n        sampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);\n      }\n    }\n\n    function getTForX(aX) {\n\n      var intervalStart = 0;\n      var currentSample = 1;\n      var lastSample = kSplineTableSize - 1;\n\n      for (; currentSample !== lastSample && sampleValues[currentSample] <= aX; ++currentSample) {\n        intervalStart += kSampleStepSize;\n      }\n\n      --currentSample;\n\n      var dist = (aX - sampleValues[currentSample]) / (sampleValues[currentSample + 1] - sampleValues[currentSample]);\n      var guessForT = intervalStart + dist * kSampleStepSize;\n      var initialSlope = getSlope(guessForT, mX1, mX2);\n\n      if (initialSlope >= 0.001) {\n        return newtonRaphsonIterate(aX, guessForT, mX1, mX2);\n      } else if (initialSlope === 0.0) {\n        return guessForT;\n      } else {\n        return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, mX1, mX2);\n      }\n\n    }\n\n    return function (x) {\n      if (mX1 === mY1 && mX2 === mY2) { return x; }\n      if (x === 0 || x === 1) { return x; }\n      return calcBezier(getTForX(x), mY1, mY2);\n    }\n\n  }\n\n  return bezier;\n\n})();\n\nvar penner = (function () {\n\n  // Based on jQuery UI's implemenation of easing equations from Robert Penner (http://www.robertpenner.com/easing)\n\n  var eases = { linear: function () { return function (t) { return t; }; } };\n\n  var functionEasings = {\n    Sine: function () { return function (t) { return 1 - Math.cos(t * Math.PI / 2); }; },\n    Circ: function () { return function (t) { return 1 - Math.sqrt(1 - t * t); }; },\n    Back: function () { return function (t) { return t * t * (3 * t - 2); }; },\n    Bounce: function () { return function (t) {\n      var pow2, b = 4;\n      while (t < (( pow2 = Math.pow(2, --b)) - 1) / 11) {}\n      return 1 / Math.pow(4, 3 - b) - 7.5625 * Math.pow(( pow2 * 3 - 2 ) / 22 - t, 2)\n    }; },\n    Elastic: function (amplitude, period) {\n      if ( amplitude === void 0 ) amplitude = 1;\n      if ( period === void 0 ) period = .5;\n\n      var a = minMax(amplitude, 1, 10);\n      var p = minMax(period, .1, 2);\n      return function (t) {\n        return (t === 0 || t === 1) ? t : \n          -a * Math.pow(2, 10 * (t - 1)) * Math.sin((((t - 1) - (p / (Math.PI * 2) * Math.asin(1 / a))) * (Math.PI * 2)) / p);\n      }\n    }\n  };\n\n  var baseEasings = ['Quad', 'Cubic', 'Quart', 'Quint', 'Expo'];\n\n  baseEasings.forEach(function (name, i) {\n    functionEasings[name] = function () { return function (t) { return Math.pow(t, i + 2); }; };\n  });\n\n  Object.keys(functionEasings).forEach(function (name) {\n    var easeIn = functionEasings[name];\n    eases['easeIn' + name] = easeIn;\n    eases['easeOut' + name] = function (a, b) { return function (t) { return 1 - easeIn(a, b)(1 - t); }; };\n    eases['easeInOut' + name] = function (a, b) { return function (t) { return t < 0.5 ? easeIn(a, b)(t * 2) / 2 : \n      1 - easeIn(a, b)(t * -2 + 2) / 2; }; };\n    eases['easeOutIn' + name] = function (a, b) { return function (t) { return t < 0.5 ? (1 - easeIn(a, b)(1 - t * 2)) / 2 : \n      (easeIn(a, b)(t * 2 - 1) + 1) / 2; }; };\n  });\n\n  return eases;\n\n})();\n\nfunction parseEasings(easing, duration) {\n  if (is.fnc(easing)) { return easing; }\n  var name = easing.split('(')[0];\n  var ease = penner[name];\n  var args = parseEasingParameters(easing);\n  switch (name) {\n    case 'spring' : return spring(easing, duration);\n    case 'cubicBezier' : return applyArguments(bezier, args);\n    case 'steps' : return applyArguments(steps, args);\n    default : return applyArguments(ease, args);\n  }\n}\n\n// Strings\n\nfunction selectString(str) {\n  try {\n    var nodes = document.querySelectorAll(str);\n    return nodes;\n  } catch(e) {\n    return;\n  }\n}\n\n// Arrays\n\nfunction filterArray(arr, callback) {\n  var len = arr.length;\n  var thisArg = arguments.length >= 2 ? arguments[1] : void 0;\n  var result = [];\n  for (var i = 0; i < len; i++) {\n    if (i in arr) {\n      var val = arr[i];\n      if (callback.call(thisArg, val, i, arr)) {\n        result.push(val);\n      }\n    }\n  }\n  return result;\n}\n\nfunction flattenArray(arr) {\n  return arr.reduce(function (a, b) { return a.concat(is.arr(b) ? flattenArray(b) : b); }, []);\n}\n\nfunction toArray(o) {\n  if (is.arr(o)) { return o; }\n  if (is.str(o)) { o = selectString(o) || o; }\n  if (o instanceof NodeList || o instanceof HTMLCollection) { return [].slice.call(o); }\n  return [o];\n}\n\nfunction arrayContains(arr, val) {\n  return arr.some(function (a) { return a === val; });\n}\n\n// Objects\n\nfunction cloneObject(o) {\n  var clone = {};\n  for (var p in o) { clone[p] = o[p]; }\n  return clone;\n}\n\nfunction replaceObjectProps(o1, o2) {\n  var o = cloneObject(o1);\n  for (var p in o1) { o[p] = o2.hasOwnProperty(p) ? o2[p] : o1[p]; }\n  return o;\n}\n\nfunction mergeObjects(o1, o2) {\n  var o = cloneObject(o1);\n  for (var p in o2) { o[p] = is.und(o1[p]) ? o2[p] : o1[p]; }\n  return o;\n}\n\n// Colors\n\nfunction rgbToRgba(rgbValue) {\n  var rgb = /rgb\\((\\d+,\\s*[\\d]+,\\s*[\\d]+)\\)/g.exec(rgbValue);\n  return rgb ? (\"rgba(\" + (rgb[1]) + \",1)\") : rgbValue;\n}\n\nfunction hexToRgba(hexValue) {\n  var rgx = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n  var hex = hexValue.replace(rgx, function (m, r, g, b) { return r + r + g + g + b + b; } );\n  var rgb = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n  var r = parseInt(rgb[1], 16);\n  var g = parseInt(rgb[2], 16);\n  var b = parseInt(rgb[3], 16);\n  return (\"rgba(\" + r + \",\" + g + \",\" + b + \",1)\");\n}\n\nfunction hslToRgba(hslValue) {\n  var hsl = /hsl\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%\\)/g.exec(hslValue) || /hsla\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%,\\s*([\\d.]+)\\)/g.exec(hslValue);\n  var h = parseInt(hsl[1], 10) / 360;\n  var s = parseInt(hsl[2], 10) / 100;\n  var l = parseInt(hsl[3], 10) / 100;\n  var a = hsl[4] || 1;\n  function hue2rgb(p, q, t) {\n    if (t < 0) { t += 1; }\n    if (t > 1) { t -= 1; }\n    if (t < 1/6) { return p + (q - p) * 6 * t; }\n    if (t < 1/2) { return q; }\n    if (t < 2/3) { return p + (q - p) * (2/3 - t) * 6; }\n    return p;\n  }\n  var r, g, b;\n  if (s == 0) {\n    r = g = b = l;\n  } else {\n    var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n    var p = 2 * l - q;\n    r = hue2rgb(p, q, h + 1/3);\n    g = hue2rgb(p, q, h);\n    b = hue2rgb(p, q, h - 1/3);\n  }\n  return (\"rgba(\" + (r * 255) + \",\" + (g * 255) + \",\" + (b * 255) + \",\" + a + \")\");\n}\n\nfunction colorToRgb(val) {\n  if (is.rgb(val)) { return rgbToRgba(val); }\n  if (is.hex(val)) { return hexToRgba(val); }\n  if (is.hsl(val)) { return hslToRgba(val); }\n}\n\n// Units\n\nfunction getUnit(val) {\n  var split = /[+-]?\\d*\\.?\\d+(?:\\.\\d+)?(?:[eE][+-]?\\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(val);\n  if (split) { return split[1]; }\n}\n\nfunction getTransformUnit(propName) {\n  if (stringContains(propName, 'translate') || propName === 'perspective') { return 'px'; }\n  if (stringContains(propName, 'rotate') || stringContains(propName, 'skew')) { return 'deg'; }\n}\n\n// Values\n\nfunction getFunctionValue(val, animatable) {\n  if (!is.fnc(val)) { return val; }\n  return val(animatable.target, animatable.id, animatable.total);\n}\n\nfunction getAttribute(el, prop) {\n  return el.getAttribute(prop);\n}\n\nfunction convertPxToUnit(el, value, unit) {\n  var valueUnit = getUnit(value);\n  if (arrayContains([unit, 'deg', 'rad', 'turn'], valueUnit)) { return value; }\n  var cached = cache.CSS[value + unit];\n  if (!is.und(cached)) { return cached; }\n  var baseline = 100;\n  var tempEl = document.createElement(el.tagName);\n  var parentEl = (el.parentNode && (el.parentNode !== document)) ? el.parentNode : document.body;\n  parentEl.appendChild(tempEl);\n  tempEl.style.position = 'absolute';\n  tempEl.style.width = baseline + unit;\n  var factor = baseline / tempEl.offsetWidth;\n  parentEl.removeChild(tempEl);\n  var convertedUnit = factor * parseFloat(value);\n  cache.CSS[value + unit] = convertedUnit;\n  return convertedUnit;\n}\n\nfunction getCSSValue(el, prop, unit) {\n  if (prop in el.style) {\n    var uppercasePropName = prop.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n    var value = el.style[prop] || getComputedStyle(el).getPropertyValue(uppercasePropName) || '0';\n    return unit ? convertPxToUnit(el, value, unit) : value;\n  }\n}\n\nfunction getAnimationType(el, prop) {\n  if (is.dom(el) && !is.inp(el) && (!is.nil(getAttribute(el, prop)) || (is.svg(el) && el[prop]))) { return 'attribute'; }\n  if (is.dom(el) && arrayContains(validTransforms, prop)) { return 'transform'; }\n  if (is.dom(el) && (prop !== 'transform' && getCSSValue(el, prop))) { return 'css'; }\n  if (el[prop] != null) { return 'object'; }\n}\n\nfunction getElementTransforms(el) {\n  if (!is.dom(el)) { return; }\n  var str = el.style.transform || '';\n  var reg  = /(\\w+)\\(([^)]*)\\)/g;\n  var transforms = new Map();\n  var m; while (m = reg.exec(str)) { transforms.set(m[1], m[2]); }\n  return transforms;\n}\n\nfunction getTransformValue(el, propName, animatable, unit) {\n  var defaultVal = stringContains(propName, 'scale') ? 1 : 0 + getTransformUnit(propName);\n  var value = getElementTransforms(el).get(propName) || defaultVal;\n  if (animatable) {\n    animatable.transforms.list.set(propName, value);\n    animatable.transforms['last'] = propName;\n  }\n  return unit ? convertPxToUnit(el, value, unit) : value;\n}\n\nfunction getOriginalTargetValue(target, propName, unit, animatable) {\n  switch (getAnimationType(target, propName)) {\n    case 'transform': return getTransformValue(target, propName, animatable, unit);\n    case 'css': return getCSSValue(target, propName, unit);\n    case 'attribute': return getAttribute(target, propName);\n    default: return target[propName] || 0;\n  }\n}\n\nfunction getRelativeValue(to, from) {\n  var operator = /^(\\*=|\\+=|-=)/.exec(to);\n  if (!operator) { return to; }\n  var u = getUnit(to) || 0;\n  var x = parseFloat(from);\n  var y = parseFloat(to.replace(operator[0], ''));\n  switch (operator[0][0]) {\n    case '+': return x + y + u;\n    case '-': return x - y + u;\n    case '*': return x * y + u;\n  }\n}\n\nfunction validateValue(val, unit) {\n  if (is.col(val)) { return colorToRgb(val); }\n  if (/\\s/g.test(val)) { return val; }\n  var originalUnit = getUnit(val);\n  var unitLess = originalUnit ? val.substr(0, val.length - originalUnit.length) : val;\n  if (unit) { return unitLess + unit; }\n  return unitLess;\n}\n\n// getTotalLength() equivalent for circle, rect, polyline, polygon and line shapes\n// adapted from https://gist.github.com/SebLambla/3e0550c496c236709744\n\nfunction getDistance(p1, p2) {\n  return Math.sqrt(Math.pow(p2.x - p1.x, 2) + Math.pow(p2.y - p1.y, 2));\n}\n\nfunction getCircleLength(el) {\n  return Math.PI * 2 * getAttribute(el, 'r');\n}\n\nfunction getRectLength(el) {\n  return (getAttribute(el, 'width') * 2) + (getAttribute(el, 'height') * 2);\n}\n\nfunction getLineLength(el) {\n  return getDistance(\n    {x: getAttribute(el, 'x1'), y: getAttribute(el, 'y1')}, \n    {x: getAttribute(el, 'x2'), y: getAttribute(el, 'y2')}\n  );\n}\n\nfunction getPolylineLength(el) {\n  var points = el.points;\n  var totalLength = 0;\n  var previousPos;\n  for (var i = 0 ; i < points.numberOfItems; i++) {\n    var currentPos = points.getItem(i);\n    if (i > 0) { totalLength += getDistance(previousPos, currentPos); }\n    previousPos = currentPos;\n  }\n  return totalLength;\n}\n\nfunction getPolygonLength(el) {\n  var points = el.points;\n  return getPolylineLength(el) + getDistance(points.getItem(points.numberOfItems - 1), points.getItem(0));\n}\n\n// Path animation\n\nfunction getTotalLength(el) {\n  if (el.getTotalLength) { return el.getTotalLength(); }\n  switch(el.tagName.toLowerCase()) {\n    case 'circle': return getCircleLength(el);\n    case 'rect': return getRectLength(el);\n    case 'line': return getLineLength(el);\n    case 'polyline': return getPolylineLength(el);\n    case 'polygon': return getPolygonLength(el);\n  }\n}\n\nfunction setDashoffset(el) {\n  var pathLength = getTotalLength(el);\n  el.setAttribute('stroke-dasharray', pathLength);\n  return pathLength;\n}\n\n// Motion path\n\nfunction getParentSvgEl(el) {\n  var parentEl = el.parentNode;\n  while (is.svg(parentEl)) {\n    if (!is.svg(parentEl.parentNode)) { break; }\n    parentEl = parentEl.parentNode;\n  }\n  return parentEl;\n}\n\nfunction getParentSvg(pathEl, svgData) {\n  var svg = svgData || {};\n  var parentSvgEl = svg.el || getParentSvgEl(pathEl);\n  var rect = parentSvgEl.getBoundingClientRect();\n  var viewBoxAttr = getAttribute(parentSvgEl, 'viewBox');\n  var width = rect.width;\n  var height = rect.height;\n  var viewBox = svg.viewBox || (viewBoxAttr ? viewBoxAttr.split(' ') : [0, 0, width, height]);\n  return {\n    el: parentSvgEl,\n    viewBox: viewBox,\n    x: viewBox[0] / 1,\n    y: viewBox[1] / 1,\n    w: width,\n    h: height,\n    vW: viewBox[2],\n    vH: viewBox[3]\n  }\n}\n\nfunction getPath(path, percent) {\n  var pathEl = is.str(path) ? selectString(path)[0] : path;\n  var p = percent || 100;\n  return function(property) {\n    return {\n      property: property,\n      el: pathEl,\n      svg: getParentSvg(pathEl),\n      totalLength: getTotalLength(pathEl) * (p / 100)\n    }\n  }\n}\n\nfunction getPathProgress(path, progress, isPathTargetInsideSVG) {\n  function point(offset) {\n    if ( offset === void 0 ) offset = 0;\n\n    var l = progress + offset >= 1 ? progress + offset : 0;\n    return path.el.getPointAtLength(l);\n  }\n  var svg = getParentSvg(path.el, path.svg);\n  var p = point();\n  var p0 = point(-1);\n  var p1 = point(+1);\n  var scaleX = isPathTargetInsideSVG ? 1 : svg.w / svg.vW;\n  var scaleY = isPathTargetInsideSVG ? 1 : svg.h / svg.vH;\n  switch (path.property) {\n    case 'x': return (p.x - svg.x) * scaleX;\n    case 'y': return (p.y - svg.y) * scaleY;\n    case 'angle': return Math.atan2(p1.y - p0.y, p1.x - p0.x) * 180 / Math.PI;\n  }\n}\n\n// Decompose value\n\nfunction decomposeValue(val, unit) {\n  // const rgx = /-?\\d*\\.?\\d+/g; // handles basic numbers\n  // const rgx = /[+-]?\\d+(?:\\.\\d+)?(?:[eE][+-]?\\d+)?/g; // handles exponents notation\n  var rgx = /[+-]?\\d*\\.?\\d+(?:\\.\\d+)?(?:[eE][+-]?\\d+)?/g; // handles exponents notation\n  var value = validateValue((is.pth(val) ? val.totalLength : val), unit) + '';\n  return {\n    original: value,\n    numbers: value.match(rgx) ? value.match(rgx).map(Number) : [0],\n    strings: (is.str(val) || unit) ? value.split(rgx) : []\n  }\n}\n\n// Animatables\n\nfunction parseTargets(targets) {\n  var targetsArray = targets ? (flattenArray(is.arr(targets) ? targets.map(toArray) : toArray(targets))) : [];\n  return filterArray(targetsArray, function (item, pos, self) { return self.indexOf(item) === pos; });\n}\n\nfunction getAnimatables(targets) {\n  var parsed = parseTargets(targets);\n  return parsed.map(function (t, i) {\n    return {target: t, id: i, total: parsed.length, transforms: { list: getElementTransforms(t) } };\n  });\n}\n\n// Properties\n\nfunction normalizePropertyTweens(prop, tweenSettings) {\n  var settings = cloneObject(tweenSettings);\n  // Override duration if easing is a spring\n  if (/^spring/.test(settings.easing)) { settings.duration = spring(settings.easing); }\n  if (is.arr(prop)) {\n    var l = prop.length;\n    var isFromTo = (l === 2 && !is.obj(prop[0]));\n    if (!isFromTo) {\n      // Duration divided by the number of tweens\n      if (!is.fnc(tweenSettings.duration)) { settings.duration = tweenSettings.duration / l; }\n    } else {\n      // Transform [from, to] values shorthand to a valid tween value\n      prop = {value: prop};\n    }\n  }\n  var propArray = is.arr(prop) ? prop : [prop];\n  return propArray.map(function (v, i) {\n    var obj = (is.obj(v) && !is.pth(v)) ? v : {value: v};\n    // Default delay value should only be applied to the first tween\n    if (is.und(obj.delay)) { obj.delay = !i ? tweenSettings.delay : 0; }\n    // Default endDelay value should only be applied to the last tween\n    if (is.und(obj.endDelay)) { obj.endDelay = i === propArray.length - 1 ? tweenSettings.endDelay : 0; }\n    return obj;\n  }).map(function (k) { return mergeObjects(k, settings); });\n}\n\n\nfunction flattenKeyframes(keyframes) {\n  var propertyNames = filterArray(flattenArray(keyframes.map(function (key) { return Object.keys(key); })), function (p) { return is.key(p); })\n  .reduce(function (a,b) { if (a.indexOf(b) < 0) { a.push(b); } return a; }, []);\n  var properties = {};\n  var loop = function ( i ) {\n    var propName = propertyNames[i];\n    properties[propName] = keyframes.map(function (key) {\n      var newKey = {};\n      for (var p in key) {\n        if (is.key(p)) {\n          if (p == propName) { newKey.value = key[p]; }\n        } else {\n          newKey[p] = key[p];\n        }\n      }\n      return newKey;\n    });\n  };\n\n  for (var i = 0; i < propertyNames.length; i++) loop( i );\n  return properties;\n}\n\nfunction getProperties(tweenSettings, params) {\n  var properties = [];\n  var keyframes = params.keyframes;\n  if (keyframes) { params = mergeObjects(flattenKeyframes(keyframes), params); }\n  for (var p in params) {\n    if (is.key(p)) {\n      properties.push({\n        name: p,\n        tweens: normalizePropertyTweens(params[p], tweenSettings)\n      });\n    }\n  }\n  return properties;\n}\n\n// Tweens\n\nfunction normalizeTweenValues(tween, animatable) {\n  var t = {};\n  for (var p in tween) {\n    var value = getFunctionValue(tween[p], animatable);\n    if (is.arr(value)) {\n      value = value.map(function (v) { return getFunctionValue(v, animatable); });\n      if (value.length === 1) { value = value[0]; }\n    }\n    t[p] = value;\n  }\n  t.duration = parseFloat(t.duration);\n  t.delay = parseFloat(t.delay);\n  return t;\n}\n\nfunction normalizeTweens(prop, animatable) {\n  var previousTween;\n  return prop.tweens.map(function (t) {\n    var tween = normalizeTweenValues(t, animatable);\n    var tweenValue = tween.value;\n    var to = is.arr(tweenValue) ? tweenValue[1] : tweenValue;\n    var toUnit = getUnit(to);\n    var originalValue = getOriginalTargetValue(animatable.target, prop.name, toUnit, animatable);\n    var previousValue = previousTween ? previousTween.to.original : originalValue;\n    var from = is.arr(tweenValue) ? tweenValue[0] : previousValue;\n    var fromUnit = getUnit(from) || getUnit(originalValue);\n    var unit = toUnit || fromUnit;\n    if (is.und(to)) { to = previousValue; }\n    tween.from = decomposeValue(from, unit);\n    tween.to = decomposeValue(getRelativeValue(to, from), unit);\n    tween.start = previousTween ? previousTween.end : 0;\n    tween.end = tween.start + tween.delay + tween.duration + tween.endDelay;\n    tween.easing = parseEasings(tween.easing, tween.duration);\n    tween.isPath = is.pth(tweenValue);\n    tween.isPathTargetInsideSVG = tween.isPath && is.svg(animatable.target);\n    tween.isColor = is.col(tween.from.original);\n    if (tween.isColor) { tween.round = 1; }\n    previousTween = tween;\n    return tween;\n  });\n}\n\n// Tween progress\n\nvar setProgressValue = {\n  css: function (t, p, v) { return t.style[p] = v; },\n  attribute: function (t, p, v) { return t.setAttribute(p, v); },\n  object: function (t, p, v) { return t[p] = v; },\n  transform: function (t, p, v, transforms, manual) {\n    transforms.list.set(p, v);\n    if (p === transforms.last || manual) {\n      var str = '';\n      transforms.list.forEach(function (value, prop) { str += prop + \"(\" + value + \") \"; });\n      t.style.transform = str;\n    }\n  }\n};\n\n// Set Value helper\n\nfunction setTargetsValue(targets, properties) {\n  var animatables = getAnimatables(targets);\n  animatables.forEach(function (animatable) {\n    for (var property in properties) {\n      var value = getFunctionValue(properties[property], animatable);\n      var target = animatable.target;\n      var valueUnit = getUnit(value);\n      var originalValue = getOriginalTargetValue(target, property, valueUnit, animatable);\n      var unit = valueUnit || getUnit(originalValue);\n      var to = getRelativeValue(validateValue(value, unit), originalValue);\n      var animType = getAnimationType(target, property);\n      setProgressValue[animType](target, property, to, animatable.transforms, true);\n    }\n  });\n}\n\n// Animations\n\nfunction createAnimation(animatable, prop) {\n  var animType = getAnimationType(animatable.target, prop.name);\n  if (animType) {\n    var tweens = normalizeTweens(prop, animatable);\n    var lastTween = tweens[tweens.length - 1];\n    return {\n      type: animType,\n      property: prop.name,\n      animatable: animatable,\n      tweens: tweens,\n      duration: lastTween.end,\n      delay: tweens[0].delay,\n      endDelay: lastTween.endDelay\n    }\n  }\n}\n\nfunction getAnimations(animatables, properties) {\n  return filterArray(flattenArray(animatables.map(function (animatable) {\n    return properties.map(function (prop) {\n      return createAnimation(animatable, prop);\n    });\n  })), function (a) { return !is.und(a); });\n}\n\n// Create Instance\n\nfunction getInstanceTimings(animations, tweenSettings) {\n  var animLength = animations.length;\n  var getTlOffset = function (anim) { return anim.timelineOffset ? anim.timelineOffset : 0; };\n  var timings = {};\n  timings.duration = animLength ? Math.max.apply(Math, animations.map(function (anim) { return getTlOffset(anim) + anim.duration; })) : tweenSettings.duration;\n  timings.delay = animLength ? Math.min.apply(Math, animations.map(function (anim) { return getTlOffset(anim) + anim.delay; })) : tweenSettings.delay;\n  timings.endDelay = animLength ? timings.duration - Math.max.apply(Math, animations.map(function (anim) { return getTlOffset(anim) + anim.duration - anim.endDelay; })) : tweenSettings.endDelay;\n  return timings;\n}\n\nvar instanceID = 0;\n\nfunction createNewInstance(params) {\n  var instanceSettings = replaceObjectProps(defaultInstanceSettings, params);\n  var tweenSettings = replaceObjectProps(defaultTweenSettings, params);\n  var properties = getProperties(tweenSettings, params);\n  var animatables = getAnimatables(params.targets);\n  var animations = getAnimations(animatables, properties);\n  var timings = getInstanceTimings(animations, tweenSettings);\n  var id = instanceID;\n  instanceID++;\n  return mergeObjects(instanceSettings, {\n    id: id,\n    children: [],\n    animatables: animatables,\n    animations: animations,\n    duration: timings.duration,\n    delay: timings.delay,\n    endDelay: timings.endDelay\n  });\n}\n\n// Core\n\nvar activeInstances = [];\n\nvar engine = (function () {\n  var raf;\n\n  function play() {\n    if (!raf && (!isDocumentHidden() || !anime.suspendWhenDocumentHidden) && activeInstances.length > 0) {\n      raf = requestAnimationFrame(step);\n    }\n  }\n  function step(t) {\n    // memo on algorithm issue:\n    // dangerous iteration over mutable `activeInstances`\n    // (that collection may be updated from within callbacks of `tick`-ed animation instances)\n    var activeInstancesLength = activeInstances.length;\n    var i = 0;\n    while (i < activeInstancesLength) {\n      var activeInstance = activeInstances[i];\n      if (!activeInstance.paused) {\n        activeInstance.tick(t);\n        i++;\n      } else {\n        activeInstances.splice(i, 1);\n        activeInstancesLength--;\n      }\n    }\n    raf = i > 0 ? requestAnimationFrame(step) : undefined;\n  }\n\n  function handleVisibilityChange() {\n    if (!anime.suspendWhenDocumentHidden) { return; }\n\n    if (isDocumentHidden()) {\n      // suspend ticks\n      raf = cancelAnimationFrame(raf);\n    } else { // is back to active tab\n      // first adjust animations to consider the time that ticks were suspended\n      activeInstances.forEach(\n        function (instance) { return instance ._onDocumentVisibility(); }\n      );\n      engine();\n    }\n  }\n  if (typeof document !== 'undefined') {\n    document.addEventListener('visibilitychange', handleVisibilityChange);\n  }\n\n  return play;\n})();\n\nfunction isDocumentHidden() {\n  return !!document && document.hidden;\n}\n\n// Public Instance\n\nfunction anime(params) {\n  if ( params === void 0 ) params = {};\n\n\n  var startTime = 0, lastTime = 0, now = 0;\n  var children, childrenLength = 0;\n  var resolve = null;\n\n  function makePromise(instance) {\n    var promise = window.Promise && new Promise(function (_resolve) { return resolve = _resolve; });\n    instance.finished = promise;\n    return promise;\n  }\n\n  var instance = createNewInstance(params);\n  var promise = makePromise(instance);\n\n  function toggleInstanceDirection() {\n    var direction = instance.direction;\n    if (direction !== 'alternate') {\n      instance.direction = direction !== 'normal' ? 'normal' : 'reverse';\n    }\n    instance.reversed = !instance.reversed;\n    children.forEach(function (child) { return child.reversed = instance.reversed; });\n  }\n\n  function adjustTime(time) {\n    return instance.reversed ? instance.duration - time : time;\n  }\n\n  function resetTime() {\n    startTime = 0;\n    lastTime = adjustTime(instance.currentTime) * (1 / anime.speed);\n  }\n\n  function seekChild(time, child) {\n    if (child) { child.seek(time - child.timelineOffset); }\n  }\n\n  function syncInstanceChildren(time) {\n    if (!instance.reversePlayback) {\n      for (var i = 0; i < childrenLength; i++) { seekChild(time, children[i]); }\n    } else {\n      for (var i$1 = childrenLength; i$1--;) { seekChild(time, children[i$1]); }\n    }\n  }\n\n  function setAnimationsProgress(insTime) {\n    var i = 0;\n    var animations = instance.animations;\n    var animationsLength = animations.length;\n    while (i < animationsLength) {\n      var anim = animations[i];\n      var animatable = anim.animatable;\n      var tweens = anim.tweens;\n      var tweenLength = tweens.length - 1;\n      var tween = tweens[tweenLength];\n      // Only check for keyframes if there is more than one tween\n      if (tweenLength) { tween = filterArray(tweens, function (t) { return (insTime < t.end); })[0] || tween; }\n      var elapsed = minMax(insTime - tween.start - tween.delay, 0, tween.duration) / tween.duration;\n      var eased = isNaN(elapsed) ? 1 : tween.easing(elapsed);\n      var strings = tween.to.strings;\n      var round = tween.round;\n      var numbers = [];\n      var toNumbersLength = tween.to.numbers.length;\n      var progress = (void 0);\n      for (var n = 0; n < toNumbersLength; n++) {\n        var value = (void 0);\n        var toNumber = tween.to.numbers[n];\n        var fromNumber = tween.from.numbers[n] || 0;\n        if (!tween.isPath) {\n          value = fromNumber + (eased * (toNumber - fromNumber));\n        } else {\n          value = getPathProgress(tween.value, eased * toNumber, tween.isPathTargetInsideSVG);\n        }\n        if (round) {\n          if (!(tween.isColor && n > 2)) {\n            value = Math.round(value * round) / round;\n          }\n        }\n        numbers.push(value);\n      }\n      // Manual Array.reduce for better performances\n      var stringsLength = strings.length;\n      if (!stringsLength) {\n        progress = numbers[0];\n      } else {\n        progress = strings[0];\n        for (var s = 0; s < stringsLength; s++) {\n          var a = strings[s];\n          var b = strings[s + 1];\n          var n$1 = numbers[s];\n          if (!isNaN(n$1)) {\n            if (!b) {\n              progress += n$1 + ' ';\n            } else {\n              progress += n$1 + b;\n            }\n          }\n        }\n      }\n      setProgressValue[anim.type](animatable.target, anim.property, progress, animatable.transforms);\n      anim.currentValue = progress;\n      i++;\n    }\n  }\n\n  function setCallback(cb) {\n    if (instance[cb] && !instance.passThrough) { instance[cb](instance); }\n  }\n\n  function countIteration() {\n    if (instance.remaining && instance.remaining !== true) {\n      instance.remaining--;\n    }\n  }\n\n  function setInstanceProgress(engineTime) {\n    var insDuration = instance.duration;\n    var insDelay = instance.delay;\n    var insEndDelay = insDuration - instance.endDelay;\n    var insTime = adjustTime(engineTime);\n    instance.progress = minMax((insTime / insDuration) * 100, 0, 100);\n    instance.reversePlayback = insTime < instance.currentTime;\n    if (children) { syncInstanceChildren(insTime); }\n    if (!instance.began && instance.currentTime > 0) {\n      instance.began = true;\n      setCallback('begin');\n    }\n    if (!instance.loopBegan && instance.currentTime > 0) {\n      instance.loopBegan = true;\n      setCallback('loopBegin');\n    }\n    if (insTime <= insDelay && instance.currentTime !== 0) {\n      setAnimationsProgress(0);\n    }\n    if ((insTime >= insEndDelay && instance.currentTime !== insDuration) || !insDuration) {\n      setAnimationsProgress(insDuration);\n    }\n    if (insTime > insDelay && insTime < insEndDelay) {\n      if (!instance.changeBegan) {\n        instance.changeBegan = true;\n        instance.changeCompleted = false;\n        setCallback('changeBegin');\n      }\n      setCallback('change');\n      setAnimationsProgress(insTime);\n    } else {\n      if (instance.changeBegan) {\n        instance.changeCompleted = true;\n        instance.changeBegan = false;\n        setCallback('changeComplete');\n      }\n    }\n    instance.currentTime = minMax(insTime, 0, insDuration);\n    if (instance.began) { setCallback('update'); }\n    if (engineTime >= insDuration) {\n      lastTime = 0;\n      countIteration();\n      if (!instance.remaining) {\n        instance.paused = true;\n        if (!instance.completed) {\n          instance.completed = true;\n          setCallback('loopComplete');\n          setCallback('complete');\n          if (!instance.passThrough && 'Promise' in window) {\n            resolve();\n            promise = makePromise(instance);\n          }\n        }\n      } else {\n        startTime = now;\n        setCallback('loopComplete');\n        instance.loopBegan = false;\n        if (instance.direction === 'alternate') {\n          toggleInstanceDirection();\n        }\n      }\n    }\n  }\n\n  instance.reset = function() {\n    var direction = instance.direction;\n    instance.passThrough = false;\n    instance.currentTime = 0;\n    instance.progress = 0;\n    instance.paused = true;\n    instance.began = false;\n    instance.loopBegan = false;\n    instance.changeBegan = false;\n    instance.completed = false;\n    instance.changeCompleted = false;\n    instance.reversePlayback = false;\n    instance.reversed = direction === 'reverse';\n    instance.remaining = instance.loop;\n    children = instance.children;\n    childrenLength = children.length;\n    for (var i = childrenLength; i--;) { instance.children[i].reset(); }\n    if (instance.reversed && instance.loop !== true || (direction === 'alternate' && instance.loop === 1)) { instance.remaining++; }\n    setAnimationsProgress(instance.reversed ? instance.duration : 0);\n  };\n\n  // internal method (for engine) to adjust animation timings before restoring engine ticks (rAF)\n  instance._onDocumentVisibility = resetTime;\n\n  // Set Value helper\n\n  instance.set = function(targets, properties) {\n    setTargetsValue(targets, properties);\n    return instance;\n  };\n\n  instance.tick = function(t) {\n    now = t;\n    if (!startTime) { startTime = now; }\n    setInstanceProgress((now + (lastTime - startTime)) * anime.speed);\n  };\n\n  instance.seek = function(time) {\n    setInstanceProgress(adjustTime(time));\n  };\n\n  instance.pause = function() {\n    instance.paused = true;\n    resetTime();\n  };\n\n  instance.play = function() {\n    if (!instance.paused) { return; }\n    if (instance.completed) { instance.reset(); }\n    instance.paused = false;\n    activeInstances.push(instance);\n    resetTime();\n    engine();\n  };\n\n  instance.reverse = function() {\n    toggleInstanceDirection();\n    instance.completed = instance.reversed ? false : true;\n    resetTime();\n  };\n\n  instance.restart = function() {\n    instance.reset();\n    instance.play();\n  };\n\n  instance.remove = function(targets) {\n    var targetsArray = parseTargets(targets);\n    removeTargetsFromInstance(targetsArray, instance);\n  };\n\n  instance.reset();\n\n  if (instance.autoplay) { instance.play(); }\n\n  return instance;\n\n}\n\n// Remove targets from animation\n\nfunction removeTargetsFromAnimations(targetsArray, animations) {\n  for (var a = animations.length; a--;) {\n    if (arrayContains(targetsArray, animations[a].animatable.target)) {\n      animations.splice(a, 1);\n    }\n  }\n}\n\nfunction removeTargetsFromInstance(targetsArray, instance) {\n  var animations = instance.animations;\n  var children = instance.children;\n  removeTargetsFromAnimations(targetsArray, animations);\n  for (var c = children.length; c--;) {\n    var child = children[c];\n    var childAnimations = child.animations;\n    removeTargetsFromAnimations(targetsArray, childAnimations);\n    if (!childAnimations.length && !child.children.length) { children.splice(c, 1); }\n  }\n  if (!animations.length && !children.length) { instance.pause(); }\n}\n\nfunction removeTargetsFromActiveInstances(targets) {\n  var targetsArray = parseTargets(targets);\n  for (var i = activeInstances.length; i--;) {\n    var instance = activeInstances[i];\n    removeTargetsFromInstance(targetsArray, instance);\n  }\n}\n\n// Stagger helpers\n\nfunction stagger(val, params) {\n  if ( params === void 0 ) params = {};\n\n  var direction = params.direction || 'normal';\n  var easing = params.easing ? parseEasings(params.easing) : null;\n  var grid = params.grid;\n  var axis = params.axis;\n  var fromIndex = params.from || 0;\n  var fromFirst = fromIndex === 'first';\n  var fromCenter = fromIndex === 'center';\n  var fromLast = fromIndex === 'last';\n  var isRange = is.arr(val);\n  var val1 = isRange ? parseFloat(val[0]) : parseFloat(val);\n  var val2 = isRange ? parseFloat(val[1]) : 0;\n  var unit = getUnit(isRange ? val[1] : val) || 0;\n  var start = params.start || 0 + (isRange ? val1 : 0);\n  var values = [];\n  var maxValue = 0;\n  return function (el, i, t) {\n    if (fromFirst) { fromIndex = 0; }\n    if (fromCenter) { fromIndex = (t - 1) / 2; }\n    if (fromLast) { fromIndex = t - 1; }\n    if (!values.length) {\n      for (var index = 0; index < t; index++) {\n        if (!grid) {\n          values.push(Math.abs(fromIndex - index));\n        } else {\n          var fromX = !fromCenter ? fromIndex%grid[0] : (grid[0]-1)/2;\n          var fromY = !fromCenter ? Math.floor(fromIndex/grid[0]) : (grid[1]-1)/2;\n          var toX = index%grid[0];\n          var toY = Math.floor(index/grid[0]);\n          var distanceX = fromX - toX;\n          var distanceY = fromY - toY;\n          var value = Math.sqrt(distanceX * distanceX + distanceY * distanceY);\n          if (axis === 'x') { value = -distanceX; }\n          if (axis === 'y') { value = -distanceY; }\n          values.push(value);\n        }\n        maxValue = Math.max.apply(Math, values);\n      }\n      if (easing) { values = values.map(function (val) { return easing(val / maxValue) * maxValue; }); }\n      if (direction === 'reverse') { values = values.map(function (val) { return axis ? (val < 0) ? val * -1 : -val : Math.abs(maxValue - val); }); }\n    }\n    var spacing = isRange ? (val2 - val1) / maxValue : val1;\n    return start + (spacing * (Math.round(values[i] * 100) / 100)) + unit;\n  }\n}\n\n// Timeline\n\nfunction timeline(params) {\n  if ( params === void 0 ) params = {};\n\n  var tl = anime(params);\n  tl.duration = 0;\n  tl.add = function(instanceParams, timelineOffset) {\n    var tlIndex = activeInstances.indexOf(tl);\n    var children = tl.children;\n    if (tlIndex > -1) { activeInstances.splice(tlIndex, 1); }\n    function passThrough(ins) { ins.passThrough = true; }\n    for (var i = 0; i < children.length; i++) { passThrough(children[i]); }\n    var insParams = mergeObjects(instanceParams, replaceObjectProps(defaultTweenSettings, params));\n    insParams.targets = insParams.targets || params.targets;\n    var tlDuration = tl.duration;\n    insParams.autoplay = false;\n    insParams.direction = tl.direction;\n    insParams.timelineOffset = is.und(timelineOffset) ? tlDuration : getRelativeValue(timelineOffset, tlDuration);\n    passThrough(tl);\n    tl.seek(insParams.timelineOffset);\n    var ins = anime(insParams);\n    passThrough(ins);\n    children.push(ins);\n    var timings = getInstanceTimings(children, params);\n    tl.delay = timings.delay;\n    tl.endDelay = timings.endDelay;\n    tl.duration = timings.duration;\n    tl.seek(0);\n    tl.reset();\n    if (tl.autoplay) { tl.play(); }\n    return tl;\n  };\n  return tl;\n}\n\nanime.version = '3.2.1';\nanime.speed = 1;\n// TODO:#review: naming, documentation\nanime.suspendWhenDocumentHidden = true;\nanime.running = activeInstances;\nanime.remove = removeTargetsFromActiveInstances;\nanime.get = getOriginalTargetValue;\nanime.set = setTargetsValue;\nanime.convertPx = convertPxToUnit;\nanime.path = getPath;\nanime.setDashoffset = setDashoffset;\nanime.stagger = stagger;\nanime.timeline = timeline;\nanime.easing = parseEasings;\nanime.penner = penner;\nanime.random = function (min, max) { return Math.floor(Math.random() * (max - min + 1)) + min; };\n\nexport default anime;\n","import anime from 'animejs'\n\n//DomElement querySelections\nconst nav = document.querySelector(\".nav\")\n//--\n\n\n//store all animations / supporting functions in one class to keep things organized\nclass Animations {\n\n    hideNav = ()=>{\n        let timeline = anime.timeline({\n            duration : \"2000\",\n            ease : \"linear\"\n    \n        }).add({\n            targets : nav,\n            translateX : \"800px\"\n        }).add({\n            targets : nav,\n            translateX : \"0\"\n        })\n\n        return timeline.finished\n    }\n\n    myAnimeEntry = (data)=>{\n        let timeline = anime.timeline({\n            duration : 400,\n            easing : \"easeOutQuint\",\n        }).add({\n            targets : \".orb4\",\n            scale : 0,\n            changeComplete : ()=>{\n                let bubble = document.getElementsByClassName(`orb4`)\n                bubble[0].remove();\n            }\n        })\n        \n        return timeline.finished\n    }\n\n\n    //this leaves nothing but a black background\n    bubbleExitAnim = (data)=>{\n        let timeline = anime.timeline({\n            duration : 700,\n            easing : \"easeOutCirc\",\n        }).add({\n            targets : \".orb0\",\n            backgroundColor : \"rgba(254, 250, 164, 1)\",\n            scale : 180,\n           \n        }).add({\n            targets : \".orb1\",\n            backgroundColor : \"#000000\",\n            scale : 180,\n            \n            \n        },'-=400').add({\n            targets : \".orb2\",\n            backgroundColor : \"rgba(246, 145, 75, 1)\",\n            scale : 180,\n            \n        },'-=400')\n        .add({\n            targets : \".orb3\",\n            backgroundColor : \"#000000\",\n            scale : 180,\n            \n        },'-=400').add({\n            targets : \".orb4\",\n            backgroundColor : \"rgb(96, 60, 105)\",\n            scale : 180,\n        },'-=400').add({\n            targets : \".orb4\",\n            changeComplete : ()=>{\n                let bubble0 = document.getElementsByClassName(`orb0`)\n                let bubble1 = document.getElementsByClassName(`orb1`)\n                let bubble2 = document.getElementsByClassName(`orb2`)\n                let bubble3 = document.getElementsByClassName(`orb3`)\n                bubble0[0].remove();\n                bubble1[0].remove();\n                bubble2[0].remove();\n                bubble3[0].remove();\n            },\n            })\n\n        return timeline.finished\n    }\n\n    bubbleAnimv2 = (data)=>{\n        let timeline = anime.timeline({\n            duration : 260,\n            easing : \"easeInOutBack\",\n        }).add({\n            targets : \".orb0\",\n            backgroundColor : \"rgba(254, 250, 164, 1)\",\n            translateX : \"25vw\",\n            translateY : \"-25vh\",\n            scale : 90,\n        }).add({\n            targets : \".orb1\",\n            backgroundColor : \"rgba(246, 145, 75, 1)\",\n            translateX : \"-25vw\",\n            translateY : \"25vh\",\n            scale : 90,\n        }).add({\n            targets : \".orb2\",\n            backgroundColor : \"rgb(96, 60, 105)\",\n            translateX : \"-25vw\",\n            translateY : \"-25vh\",\n            scale : 90,\n        }).add({\n            targets : \".orb3\",\n            backgroundColor : \"rgba(254, 250, 164, 1)\",\n            translateX : \"25vw\",\n            translateY : \"25vh\",\n            scale : 90,\n        }).add({\n            targets : \".orb4\",\n            backgroundColor : \"rgba(246, 145, 75, 1)\",\n            scale : 180,\n        }).add({\n            changeComplete : ()=>{\n                let bubble0 = document.getElementsByClassName(`orb0`)\n                let bubble1 = document.getElementsByClassName(`orb1`)\n                let bubble2 = document.getElementsByClassName(`orb2`)\n                let bubble3 = document.getElementsByClassName(`orb3`)\n                bubble0[0].remove();\n                bubble1[0].remove();\n                bubble2[0].remove();\n                bubble3[0].remove();\n            }\n        })\n\n        return timeline.finished\n    }\n\n    // Animv3 = (data)=>{\n    //     let timeline = anime.timeline({\n    //         duration : 260,\n    //         easing : \"easeInOutBack\",\n    //     }).add({\n            \n    //     })\n    // }\n    \n    addBubblesForAnims = ()=>{\n        //we add some html that we will use to animate\n        document.querySelector(\".bubbleContainer\").innerHTML += `\n\n                <div style=\"border-radius:50%;position:fixed;top:50%;left:50%;z-index:1001;height:1rem;width:1rem;\" class=\"orb0\"></div>\n                <div style=\"border-radius:50%;position:fixed;top:50%;left:50%;z-index:1002;height:1rem;width:1rem;\" class=\"orb1\"></div>\n                <div style=\"border-radius:50%;position:fixed;top:50%;left:50%;z-index:1003;height:1rem;width:1rem;\" class=\"orb2\"></div>\n                <div style=\"border-radius:50%;position:fixed;top:50%;left:50%;z-index:1004;height:1rem;width:1rem;\" class=\"orb3\"></div>\n                <div style=\"border-radius:50%;position:fixed;top:50%;left:50%;z-index:1005;height:1rem;width:1rem;\" class=\"orb4\"></div>\n        `\n    }\n    \n\n    RandomAnimation = ()=>{\n        const Allanimations = [this.bubbleAnimv2 , this.bubbleExitAnim]\n        return Allanimations[Math.floor(Math.random()*Allanimations.length)];\n    }\n\n}\n\nexport default Animations","import barba from '@barba/core'\nimport Animations from \"./animations\"\n\n\n//instanciate out anims \nconst animations = new Animations\n\n//Barba-js page transition logic \nbarba.init({\n    debug: true,\n    transitions: [{\n        name: 'Random Transition',\n          async leave(data) {\n            //pick a random animation \n            let animation = animations.RandomAnimation()\n            \n            //adds html divs for the sake of animations\n            animations.addBubblesForAnims()\n\n            console.log(\"exiting\")\n\n            //play selected random animation\n            await animation(data)\n\n            console.log(\"exit await done\")\n\n        },\n\n          async after(data) {\n\n            console.log(\"entry\")\n            \n            //When this animation is done properly only one should be needed \n            await animations.myAnimeEntry(data)\n\n            console.log(\"entry await done\")\n            \n       \n        },\n        \n      }]\n  });\n\n"],"names":["$f233fb7ce3af900a$exports","t","n","r","length","e","enumerable","configurable","writable","Object","defineProperty","key","prototype","assign","arguments","hasOwnProperty","call","apply","this","create","constructor","__proto__","i","setPrototypeOf","getPrototypeOf","o","u","Reflect","construct","sham","Proxy","Date","toString","push","Function","bind","f","Map","indexOf","TypeError","has","get","set","value","_catch","body","recover","result","then","Symbol","iterator","asyncIterator","LogLevels","HookMethods","_level","off","Logger","source","_source","getLevel","setLevel","name","error","objects","_log","console","warn","warning","info","debug","log","fn","level","concat","pathToRegexp","regexpToFunction","parse","tokensToFunction","tokensToRegExp","DEFAULT_DELIMITER","PATH_REGEXP","RegExp","join","str","options","res","tokens","index","path","defaultDelimiter","delimiter","whitelist","pathEscaped","exec","m","escaped","offset","slice","prev","capture","group","modifier","k","c","pattern","prefix","optional","repeat","escapeGroup","escapeString","substr","re","keys","pathname","params","decode","decodeURIComponent","split","map","matches","Array","flags","data","encode","encodeURIComponent","validate","token","segment","isArray","j","test","String","replace","sensitive","strict","start","end","endsWith","route","endToken","isEndDelimited","groups","match","parts","schemaAttribute","container","history","namespace","prevent","wrapper","dom","DOMParser","el","outerHTML","toDocument","htmlString","_parser","parseFromString","toElement","div","document","createElement","innerHTML","getHtml","doc","documentElement","getWrapper","scope","querySelector","_attr","getContainer","removeContainer","contains","parentNode","removeChild","addContainer","existingContainer","_insertAfter","appendChild","getNamespace","ns","getAttribute","getHref","tagName","toLowerCase","href","resolveUrl","baseVal","urls","numUrls","Error","base","head","getElementsByTagName","insertBefore","firstChild","resolved","a","newNode","referenceNode","nextSibling","init","url","_session","state","scroll","x","window","scrollX","y","scrollY","_states","_pointer","item","from","states","replaceState","change","trigger","_getDirection","add","size","action","_getAction","pushState","update","remove","splice","pop","clear","newStates","attr","hasAttribute","diff","Math","abs","page","next","html","nextDocument","title","t1","Promise","reject","ptr","resolve","requestAnimationFrame","getOrigin","location","origin","getPort","port","portString","substring","parseInt","hash","query","hashIndex","queryIndex","parseQuery","reduce","acc","clean","H","request","ttl","requestError","xhr","XMLHttpRequest","onreadystatechange","readyState","DONE","status","responseText","statusText","ontimeout","err","onerror","open","timeout","setRequestHeader","send","C","obj","runAsync","func","ctx","args","async","promise","answer","isPromise","hooks","_this","registered","all","forEach","hook","_this2","Set","chain","_this3","logger","_this4","help","Ignore","ignore","_ignoreAll","paths","_ignoreRegexes","p","checkHref","some","regex","Cache","_state","getRequest","getAction","exists","newTab","event","which","metaKey","ctrlKey","shiftKey","altKey","blank","target","corsDomain","protocol","hostname","corsPort","download","preventSelf","preventAll","Boolean","closest","sameUrl","Prevent","check","suite","tests","run","checkLink","BarbaError","label","captureStackTrace","Store","transitions","type","_rules","position","filters","once","filter","self","matching","active","find","valid","reverse","rule","_check","to","activeMatch","transitionType","s","infos","_addPriority","sort","b","priority","leave","enter","transition","direction","isValid","hasMatch","strRule","objRule","fnName","current","names","_calculatePriority","ruleName","ruleIndex","pow","Transitions","store","doOnce","_running","_doAsyncHook","doPage","sync","h","_isTransitionError","leaveResult","helpers","values","message","Views","views","view","byNamespace","_createHook","Element","msMatchesSelector","webkitMatchesSelector","parentElement","nodeType","schemaPage","version","use","plugin","installedPlugins","plugins","install","schema","v","cacheIgnore","prefetchIgnore","preventRunning","preventCustom","g","logLevel","E","_requestCustomError","_wrapper","setAttribute","_resetData","cache","_onLinkEnter","_onLinkClick","_onStateChange","_bind","onceData","destroy","_unbind","force","go","isRunning","getPath","hasSelf","stopPropagation","preventDefault","readyData","hasOnce","onRequestError","shouldWait","response","prefetch","catch","_this5","addEventListener","removeEventListener","link","_getLinkElement","_this6","_data","$70c6f773849da97a$var$defaultInstanceSettings","begin","loopBegin","changeBegin","changeComplete","loopComplete","complete","loop","autoplay","timelineOffset","$70c6f773849da97a$var$defaultTweenSettings","duration","delay","endDelay","easing","round","$70c6f773849da97a$var$validTransforms","$70c6f773849da97a$var$cache","CSS","springs","$70c6f773849da97a$var$minMax","val","min","max","$70c6f773849da97a$var$stringContains","text","$70c6f773849da97a$var$applyArguments","$70c6f773849da97a$var$is","arr","pth","svg","SVGElement","inp","HTMLInputElement","fnc","und","nil","hex","rgb","hsl","col","$70c6f773849da97a$var$parseEasingParameters","string","parseFloat","$70c6f773849da97a$var$spring","mass","stiffness","damping","velocity","w0","sqrt","zeta","wd","solver","progress","exp","cos","sin","cached","frame","elapsed","rest","$70c6f773849da97a$var$steps","steps","ceil","eases","functionEasings","$70c6f773849da97a$var$bezier","kSampleStepSize","A","aA1","aA2","B","calcBezier","aT","getSlope","mX1","mY1","mX2","mY2","sampleValues","Float32Array","getTForX","aX","intervalStart","currentSample","kSplineTableSize","guessForT","initialSlope","aGuessT","currentSlope","newtonRaphsonIterate","aA","aB","currentX","currentT","binarySubdivide","$70c6f773849da97a$var$penner","linear","Sine","PI","Circ","Back","Bounce","pow2","Elastic","amplitude","period","asin","easeIn","$70c6f773849da97a$var$parseEasings","ease","$70c6f773849da97a$var$selectString","querySelectorAll","$70c6f773849da97a$var$filterArray","callback","len","thisArg","$70c6f773849da97a$var$flattenArray","$70c6f773849da97a$var$toArray","NodeList","HTMLCollection","$70c6f773849da97a$var$arrayContains","$70c6f773849da97a$var$cloneObject","clone","$70c6f773849da97a$var$replaceObjectProps","o1","o2","$70c6f773849da97a$var$mergeObjects","$70c6f773849da97a$var$colorToRgb","rgbValue","hexValue","$70c6f773849da97a$var$hexToRgba","hslValue","l","hue2rgb","q","$70c6f773849da97a$var$hslToRgba","$70c6f773849da97a$var$getUnit","$70c6f773849da97a$var$getFunctionValue","animatable","id","total","$70c6f773849da97a$var$getAttribute","prop","$70c6f773849da97a$var$convertPxToUnit","unit","tempEl","parentEl","style","width","factor","offsetWidth","convertedUnit","$70c6f773849da97a$var$getCSSValue","uppercasePropName","getComputedStyle","getPropertyValue","$70c6f773849da97a$var$getAnimationType","$70c6f773849da97a$var$getElementTransforms","transform","reg","transforms","$70c6f773849da97a$var$getTransformValue","propName","defaultVal","$70c6f773849da97a$var$getTransformUnit","list","$70c6f773849da97a$var$getOriginalTargetValue","$70c6f773849da97a$var$getRelativeValue","operator","$70c6f773849da97a$var$validateValue","originalUnit","unitLess","$70c6f773849da97a$var$getDistance","p1","p2","$70c6f773849da97a$var$getPolylineLength","previousPos","points","totalLength","numberOfItems","currentPos","getItem","$70c6f773849da97a$var$getTotalLength","getTotalLength","$70c6f773849da97a$var$getCircleLength","$70c6f773849da97a$var$getRectLength","$70c6f773849da97a$var$getLineLength","$70c6f773849da97a$var$getPolygonLength","$70c6f773849da97a$var$getParentSvg","pathEl","svgData","parentSvgEl","$70c6f773849da97a$var$getParentSvgEl","rect","getBoundingClientRect","viewBoxAttr","height","viewBox","w","vW","vH","$70c6f773849da97a$var$getPathProgress","isPathTargetInsideSVG","point","getPointAtLength","p0","scaleX","scaleY","property","atan2","$70c6f773849da97a$var$decomposeValue","rgx","original","numbers","Number","strings","$70c6f773849da97a$var$parseTargets","targets","pos","$70c6f773849da97a$var$getAnimatables","parsed","$70c6f773849da97a$var$normalizePropertyTweens","tweenSettings","settings","propArray","$70c6f773849da97a$var$getProperties","properties","keyframes","propertyNames","newKey","$70c6f773849da97a$var$flattenKeyframes","tweens","$70c6f773849da97a$var$normalizeTweens","previousTween","tween","$70c6f773849da97a$var$normalizeTweenValues","tweenValue","toUnit","originalValue","previousValue","fromUnit","isPath","isColor","$70c6f773849da97a$var$setProgressValue","css","attribute","object","manual","last","$70c6f773849da97a$var$setTargetsValue","valueUnit","animType","$70c6f773849da97a$var$getAnimations","animatables","lastTween","$70c6f773849da97a$var$createAnimation","$70c6f773849da97a$var$getInstanceTimings","animations","animLength","getTlOffset","anim","timings","$70c6f773849da97a$var$instanceID","$70c6f773849da97a$var$activeInstances","$70c6f773849da97a$var$engine","raf","step","activeInstancesLength","activeInstance","paused","tick","undefined","$70c6f773849da97a$var$anime","suspendWhenDocumentHidden","$70c6f773849da97a$var$isDocumentHidden","cancelAnimationFrame","instance","_onDocumentVisibility","hidden","children","startTime","lastTime","now","childrenLength","makePromise","_resolve","finished","instanceSettings","$70c6f773849da97a$var$createNewInstance","toggleInstanceDirection","reversed","child","adjustTime","time","resetTime","currentTime","speed","seekChild","seek","setAnimationsProgress","insTime","animationsLength","tweenLength","eased","isNaN","toNumbersLength","toNumber","fromNumber","stringsLength","n$1","currentValue","setCallback","cb","passThrough","setInstanceProgress","engineTime","insDuration","insDelay","insEndDelay","reversePlayback","i$1","syncInstanceChildren","began","loopBegan","changeBegan","changeCompleted","remaining","completed","reset","pause","play","restart","$70c6f773849da97a$var$removeTargetsFromInstance","$70c6f773849da97a$var$removeTargetsFromAnimations","targetsArray","childAnimations","running","convertPx","percent","setDashoffset","pathLength","stagger","grid","axis","fromIndex","fromFirst","fromCenter","fromLast","isRange","val1","val2","maxValue","fromX","fromY","floor","distanceX","distanceY","timeline","tl","instanceParams","tlIndex","ins","insParams","tlDuration","penner","random","$70c6f773849da97a$export$2e2bcd8739ae039","$db28bb9d82e16235$var$nav","$e73bf42412feb220$var$animations","hideNav","translateX","myAnimeEntry","scale","getElementsByClassName","bubbleExitAnim","backgroundColor","bubble0","bubble1","bubble2","bubble3","bubbleAnimv2","translateY","addBubblesForAnims","RandomAnimation","Allanimations","$parcel$interopDefault","animation"],"version":3,"file":"contact.5d08c9b0.js.map"}